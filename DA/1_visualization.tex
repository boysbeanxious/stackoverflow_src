% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  letterpaper,
  DIV=11,
  numbers=noendperiod]{scrartcl}

\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else  
    % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
% Make \paragraph and \subparagraph free-standing
\makeatletter
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}{
    \@ifstar
      \xxxParagraphStar
      \xxxParagraphNoStar
  }
  \newcommand{\xxxParagraphStar}[1]{\oldparagraph*{#1}\mbox{}}
  \newcommand{\xxxParagraphNoStar}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}{
    \@ifstar
      \xxxSubParagraphStar
      \xxxSubParagraphNoStar
  }
  \newcommand{\xxxSubParagraphStar}[1]{\oldsubparagraph*{#1}\mbox{}}
  \newcommand{\xxxSubParagraphNoStar}[1]{\oldsubparagraph{#1}\mbox{}}
\fi
\makeatother

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{multirow}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

\KOMAoption{captions}{tableheading}
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother

\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage{bookmark}

\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={1. 파일호출},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}


\title{1. 파일호출}
\author{}
\date{}

\begin{document}
\maketitle


\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ seaborn }\ImportTok{as}\NormalTok{ sns}
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt}
\ImportTok{import}\NormalTok{ seaborn }\ImportTok{as}\NormalTok{ sns}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\ImportTok{import}\NormalTok{ pickle}
\ImportTok{import}\NormalTok{ re}
\ImportTok{from}\NormalTok{ collections }\ImportTok{import}\NormalTok{ deque}
\ImportTok{import}\NormalTok{ datetime}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ math}

\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt}

\ImportTok{import}\NormalTok{ matplotlib.colors }\ImportTok{as}\NormalTok{ mcolors}
\ImportTok{from}\NormalTok{ matplotlib.patches }\ImportTok{import}\NormalTok{ Rectangle}


\KeywordTok{def}\NormalTok{ plot\_colortable(colors, }\OperatorTok{*}\NormalTok{, ncols}\OperatorTok{=}\DecValTok{4}\NormalTok{, sort\_colors}\OperatorTok{=}\VariableTok{True}\NormalTok{):}
\NormalTok{    color\_list }\OperatorTok{=}\NormalTok{ []}
    \BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(color\_list))}
\NormalTok{    cell\_width }\OperatorTok{=} \DecValTok{212}
\NormalTok{    cell\_height }\OperatorTok{=} \DecValTok{22}
\NormalTok{    swatch\_width }\OperatorTok{=} \DecValTok{48}
\NormalTok{    margin }\OperatorTok{=} \DecValTok{12}

    \CommentTok{\# Sort colors by hue, saturation, value and name.}
    \ControlFlowTok{if}\NormalTok{ sort\_colors }\KeywordTok{is} \VariableTok{True}\NormalTok{:}
\NormalTok{        names }\OperatorTok{=} \BuiltInTok{sorted}\NormalTok{(}
\NormalTok{            colors, key}\OperatorTok{=}\KeywordTok{lambda}\NormalTok{ c: }\BuiltInTok{tuple}\NormalTok{(mcolors.rgb\_to\_hsv(mcolors.to\_rgb(c))))}
    \ControlFlowTok{else}\NormalTok{:}
\NormalTok{        names }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(colors)}

\NormalTok{    n }\OperatorTok{=} \BuiltInTok{len}\NormalTok{(names)}
\NormalTok{    nrows }\OperatorTok{=}\NormalTok{ math.ceil(n }\OperatorTok{/}\NormalTok{ ncols)}

\NormalTok{    width }\OperatorTok{=}\NormalTok{ cell\_width }\OperatorTok{*}\NormalTok{ ncols }\OperatorTok{+} \DecValTok{2} \OperatorTok{*}\NormalTok{ margin}
\NormalTok{    height }\OperatorTok{=}\NormalTok{ cell\_height }\OperatorTok{*}\NormalTok{ nrows }\OperatorTok{+} \DecValTok{2} \OperatorTok{*}\NormalTok{ margin}
\NormalTok{    dpi }\OperatorTok{=} \DecValTok{72}

\NormalTok{    fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots(figsize}\OperatorTok{=}\NormalTok{(width }\OperatorTok{/}\NormalTok{ dpi, height }\OperatorTok{/}\NormalTok{ dpi), dpi}\OperatorTok{=}\NormalTok{dpi)}
\NormalTok{    fig.subplots\_adjust(margin}\OperatorTok{/}\NormalTok{width, margin}\OperatorTok{/}\NormalTok{height,}
\NormalTok{                        (width}\OperatorTok{{-}}\NormalTok{margin)}\OperatorTok{/}\NormalTok{width, (height}\OperatorTok{{-}}\NormalTok{margin)}\OperatorTok{/}\NormalTok{height)}
\NormalTok{    ax.set\_xlim(}\DecValTok{0}\NormalTok{, cell\_width }\OperatorTok{*}\NormalTok{ ncols)}
\NormalTok{    ax.set\_ylim(cell\_height }\OperatorTok{*}\NormalTok{ (nrows}\OperatorTok{{-}}\FloatTok{0.5}\NormalTok{), }\OperatorTok{{-}}\NormalTok{cell\_height}\OperatorTok{/}\FloatTok{2.}\NormalTok{)}
\NormalTok{    ax.yaxis.set\_visible(}\VariableTok{False}\NormalTok{)}
\NormalTok{    ax.xaxis.set\_visible(}\VariableTok{False}\NormalTok{)}
\NormalTok{    ax.set\_axis\_off()}

    \ControlFlowTok{for}\NormalTok{ i, name }\KeywordTok{in} \BuiltInTok{enumerate}\NormalTok{(names):}
\NormalTok{        row }\OperatorTok{=}\NormalTok{ i }\OperatorTok{\%}\NormalTok{ nrows}
\NormalTok{        col }\OperatorTok{=}\NormalTok{ i }\OperatorTok{//}\NormalTok{ nrows}
\NormalTok{        y }\OperatorTok{=}\NormalTok{ row }\OperatorTok{*}\NormalTok{ cell\_height}

\NormalTok{        swatch\_start\_x }\OperatorTok{=}\NormalTok{ cell\_width }\OperatorTok{*}\NormalTok{ col}
\NormalTok{        text\_pos\_x }\OperatorTok{=}\NormalTok{ cell\_width }\OperatorTok{*}\NormalTok{ col }\OperatorTok{+}\NormalTok{ swatch\_width }\OperatorTok{+} \DecValTok{7}

\NormalTok{        ax.text(text\_pos\_x, y, name, fontsize}\OperatorTok{=}\DecValTok{14}\NormalTok{,}
\NormalTok{                horizontalalignment}\OperatorTok{=}\StringTok{\textquotesingle{}left\textquotesingle{}}\NormalTok{,}
\NormalTok{                verticalalignment}\OperatorTok{=}\StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{        color\_list.append(name)}
\NormalTok{        ax.add\_patch(}
\NormalTok{            Rectangle(xy}\OperatorTok{=}\NormalTok{(swatch\_start\_x, y}\OperatorTok{{-}}\DecValTok{9}\NormalTok{), width}\OperatorTok{=}\NormalTok{swatch\_width,}
\NormalTok{                      height}\OperatorTok{=}\DecValTok{18}\NormalTok{, facecolor}\OperatorTok{=}\NormalTok{colors[name], edgecolor}\OperatorTok{=}\StringTok{\textquotesingle{}0.7\textquotesingle{}}\NormalTok{)}
\NormalTok{        )}

    \ControlFlowTok{return}\NormalTok{ color\_list}

\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ plot\_colortable(mcolors.CSS4\_COLORS)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'list'>
\end{verbatim}

\includegraphics{1_visualization_files/figure-pdf/cell-3-output-2.png}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_da.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_da }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_body.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_body }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_user.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_user }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_answer\_cnt.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_answer\_cnt }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_year\_from\_signup\_a.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_year\_from\_signup\_a }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_year\_from\_signup\_qna.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_year\_from\_signup\_qna }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_year\_from\_signup\_q.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_year\_from\_signup\_q }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_year\_from\_signup\_a.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_year\_from\_signup\_a }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_year\_from\_signup\_a\_mm.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_year\_from\_signup\_a\_mm }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_year\_from\_signup\_q\_mm.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_year\_from\_signup\_q\_mm }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_year\_from\_signup\_qna\_mm.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_year\_from\_signup\_qna\_mm }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_year\_gpt\_yn.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_year\_gpt\_yn }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_usr\_post\_cre\_avg\_med.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_usr\_post\_cre\_avg\_med }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_diff\_usrcre\_avg\_med.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_diff\_usrcre\_avg\_med }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_no\_post\_per\_year.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_no\_post\_per\_year }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_year\_from\_signup\_cnt.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_year\_from\_signup\_cnt }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_active\_usr\_per\_year.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_active\_usr\_per\_year }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_active\_usr\_per\_day.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_active\_usr\_per\_day }\OperatorTok{=}\NormalTok{ pickle.load(f)}

\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# df\_usr\_post\_cre\_cnt}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_usr\_post\_cre\_cnt.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_usr\_post\_cre\_cnt }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# df\_vote\_cnt\_per\_day df\_vote\_cnt\_within\_1month\_per\_day}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_vote\_cnt\_per\_day.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_vote\_cnt\_per\_day }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# df\_vote\_cnt\_within\_1month\_per\_day}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_vote\_cnt\_within\_1month\_per\_day.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_vote\_cnt\_within\_1month\_per\_day }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# df\_vote\_cnt\_within\_1month\_per\_day\_qna}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_vote\_cnt\_within\_1month\_per\_day\_qna.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_vote\_cnt\_within\_1month\_per\_day\_qna }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
EOFError: Ran out of input
[0;31m---------------------------------------------------------------------------[0m
[0;31mEOFError[0m                                  Traceback (most recent call last)
Cell [0;32mIn[20], line 3[0m
[1;32m      1[0m [38;5;66;03m# df_vote_cnt_within_1month_per_day_qna[39;00m
[1;32m      2[0m [38;5;28;01mwith[39;00m [38;5;28mopen[39m([38;5;124m'[39m[38;5;124m../../data/df_vote_cnt_within_1month_per_day_qna.pkl[39m[38;5;124m'[39m, [38;5;124m'[39m[38;5;124mrb[39m[38;5;124m'[39m) [38;5;28;01mas[39;00m f:
[0;32m----> 3[0m     df_vote_cnt_within_1month_per_day_qna [38;5;241m=[39m [43mpickle[49m[38;5;241;43m.[39;49m[43mload[49m[43m([49m[43mf[49m[43m)[49m

[0;31mEOFError[0m: Ran out of input
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# df\_vote\_cnt\_within\_1month\_per\_daytype\_qna}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_vote\_cnt\_within\_1month\_per\_daytype\_qna.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_vote\_cnt\_within\_1month\_per\_daytype\_qna }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_usr\_q\_cre\_avg\_med.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_usr\_q\_cre\_avg\_med }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_usr\_a\_cre\_avg\_med.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_usr\_a\_cre\_avg\_med }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{]   }\OperatorTok{=}\NormalTok{ df\_da[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.date}
\NormalTok{df\_da[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{]   }\OperatorTok{=}\NormalTok{ df\_da[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.year}
\NormalTok{df\_da[}\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{]  }\OperatorTok{=}\NormalTok{ df\_da[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.month}
\NormalTok{df\_da[}\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]    }\OperatorTok{=}\NormalTok{ df\_da[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.day}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_body[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_body[}\StringTok{\textquotesingle{}creationdate\textquotesingle{}}\NormalTok{].dt.date}
\NormalTok{df\_body[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_body[}\StringTok{\textquotesingle{}creationdate\textquotesingle{}}\NormalTok{].dt.year}
\NormalTok{df\_body[}\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_body[}\StringTok{\textquotesingle{}creationdate\textquotesingle{}}\NormalTok{].dt.month}
\NormalTok{df\_body[}\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_body[}\StringTok{\textquotesingle{}creationdate\textquotesingle{}}\NormalTok{].dt.day}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{]   }\OperatorTok{=}\NormalTok{ df\_da[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.date}
\NormalTok{df\_da[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{]   }\OperatorTok{=}\NormalTok{ df\_da[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.year}
\NormalTok{df\_da[}\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{]  }\OperatorTok{=}\NormalTok{ df\_da[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.month}
\NormalTok{df\_da[}\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]    }\OperatorTok{=}\NormalTok{ df\_da[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.day}
\end{Highlighting}
\end{Shaded}

\subsection{2. POST}\label{post}

\subsubsection{Number of Questions and Answers over
time}\label{number-of-questions-and-answers-over-time}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Q\&A 만 추출 }
\NormalTok{df\_body }\OperatorTok{=}\NormalTok{ df\_body[df\_body[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{].isin([}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{])]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_qna\_num }\OperatorTok{=}\NormalTok{ df\_body.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).count()[[}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{]].reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_qna\_num[df\_qna\_num[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{].date}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0       2013-11-01
2       2013-11-02
4       2013-11-03
6       2013-11-04
8       2013-11-05
           ...    
7354    2023-11-26
7356    2023-11-27
7358    2023-11-28
7360    2023-11-29
7362    2023-11-30
Name: date, Length: 3682, dtype: object
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sharey }\OperatorTok{=} \VariableTok{True} \CommentTok{\#\# 또는 sharey=False}
\NormalTok{sharex }\OperatorTok{=} \VariableTok{True} \CommentTok{\#\# 또는 sharex=False}

\NormalTok{fig, axs }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{20}\NormalTok{, }\DecValTok{5}\NormalTok{), sharey}\OperatorTok{=}\NormalTok{sharey, sharex}\OperatorTok{=}\NormalTok{sharex)}
\CommentTok{\# plt.xticks(rotation=45)}
\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\CommentTok{\# yticks = np.arange(200, 2000, 400)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].bar(df\_qna\_num[df\_qna\_num[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{].date}
\NormalTok{        ,  df\_qna\_num[df\_qna\_num[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{].}\BuiltInTok{id}
\NormalTok{        ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
        \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_title(}\StringTok{\textquotesingle{}Number of Questions over time\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_ylabel(}\StringTok{\textquotesingle{}\# of Q\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_xticks(major\_xticks)}
\CommentTok{\# axs[0].set\_yticks(yticks)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].axvline([major\_xticks[}\OperatorTok{{-}}\DecValTok{2}\NormalTok{]], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].tick\_params(axis}\OperatorTok{=}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{, rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\CommentTok{\# axs[0].yticks(yt)}

\NormalTok{axs[}\DecValTok{1}\NormalTok{].bar(df\_qna\_num[df\_qna\_num[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{].date}
\NormalTok{        ,  df\_qna\_num[df\_qna\_num[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{].}\BuiltInTok{id}
\NormalTok{        ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}lightgreen\textquotesingle{}}
        \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_title(}\StringTok{\textquotesingle{}Number of Answers over time\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_ylabel(}\StringTok{\textquotesingle{}\# of A\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_xticks(major\_xticks)}
\CommentTok{\# axs[1].set\_yticks(yticks)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].axvline([major\_xticks[}\OperatorTok{{-}}\DecValTok{2}\NormalTok{]], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].tick\_params(axis}\OperatorTok{=}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{, rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-35-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_body.groupby([}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).count()[[}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& id \\
posttypeid & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
1 & 18402542 \\
2 & 24949500 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_body[}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_body[}\StringTok{\textquotesingle{}body\textquotesingle{}}\NormalTok{].}\BuiltInTok{apply}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x : }\BuiltInTok{len}\NormalTok{(x))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/var/folders/lk/t243gzpx379bzd9mvx8dcsmm0000gp/T/ipykernel_95968/4100759064.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_body['body_len'] = df_body['body'].apply(lambda x : len(x))
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_body.groupby([}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).mean([}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& & & & id & owneruserid & answered\_yn & body\_len \\
year & month & day & posttypeid & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\multirow{5}{=}{2013} & \multirow{5}{=}{11} & \multirow{2}{=}{1} & 1 &
1.972813e+07 & 1.841639e+06 & 0.920378 & 1450.568222 \\
& & & 2 & 1.972810e+07 & 1.403717e+06 & 0.000000 & 750.325224 \\
& & \multirow{2}{=}{2} & 1 & 1.974295e+07 & 1.917220e+06 & 0.924562 &
1485.227520 \\
& & & 2 & 1.974286e+07 & 1.427736e+06 & 0.000000 & 791.170160 \\
& & 3 & 1 & 1.975406e+07 & 1.926541e+06 & 0.922533 & 1477.717557 \\
... & ... & ... & ... & ... & ... & ... & ... \\
\multirow{5}{=}{2023} & \multirow{5}{=}{11} & 28 & 2 & 7.756421e+07 &
1.020143e+07 & 0.000000 & 1102.488786 \\
& & \multirow{2}{=}{29} & 1 & 7.757154e+07 & 1.443985e+07 & 0.396988 &
1971.581984 \\
& & & 2 & 7.757147e+07 & 1.031414e+07 & 0.000000 & 1157.715929 \\
& & \multirow{2}{=}{30} & 1 & 7.757877e+07 & 1.440473e+07 & 0.377386 &
2048.297571 \\
& & & 2 & 7.757872e+07 & 9.984061e+06 & 0.000000 & 1194.023677 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_bodycnt }\OperatorTok{=}\NormalTok{ df\_body.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).count()[[}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{]].reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_bodycnt }\OperatorTok{=}\NormalTok{ pd.pivot\_table(df\_bodycnt, index }\OperatorTok{=} \StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{, columns }\OperatorTok{=} \StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{, values }\OperatorTok{=} \StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{).reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_bodycnt[}\StringTok{\textquotesingle{}q\_over\_a\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_bodycnt[}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{].div(df\_bodycnt[}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\subsubsection{Question over Answer}\label{question-over-answer}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.bar(df\_bodycnt.date}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_bodycnt[}\StringTok{\textquotesingle{}q\_over\_a\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Answer over Question"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"A/Q"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}

\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-42-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_bodyanswerdyn }\OperatorTok{=}\NormalTok{ df\_body[df\_body[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{].groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}answered\_yn\textquotesingle{}}\NormalTok{]).count()[[}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{]].reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_bodyanswerdyn }\OperatorTok{=}\NormalTok{ pd.pivot\_table(df\_bodyanswerdyn, index }\OperatorTok{=} \StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{, columns }\OperatorTok{=} \StringTok{\textquotesingle{}answered\_yn\textquotesingle{}}\NormalTok{, values }\OperatorTok{=} \StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{).reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_bodyanswerdyn[}\StringTok{\textquotesingle{}rate\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_bodyanswerdyn[}\DecValTok{1}\NormalTok{] }\OperatorTok{/}\NormalTok{ (df\_bodyanswerdyn[}\DecValTok{1}\NormalTok{] }\OperatorTok{+}\NormalTok{ df\_bodyanswerdyn[}\DecValTok{0}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\subsubsection{Ratio of Answered
Question}\label{ratio-of-answered-question}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.bar(df\_bodyanswerdyn.date}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_bodyanswerdyn[}\StringTok{\textquotesingle{}rate\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Ratio of Answered Question"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Ratio"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-46-output-1.png}

\subsubsection{Answer Count line plot}\label{answer-count-line-plot}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_answer\_cnt}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_answer\_cnt.loc[(df\_answer\_cnt[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{]}\OperatorTok{==} \StringTok{\textquotesingle{}2020\textquotesingle{}}\NormalTok{), }\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{].value\_counts().sort\_index().to\_frame()[}\StringTok{\textquotesingle{}count\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.plot(df\_answer\_cnt.loc[(df\_answer\_cnt[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{]}\OperatorTok{==} \StringTok{\textquotesingle{}2019\textquotesingle{}}\NormalTok{), }\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{].value\_counts().sort\_index().to\_frame()[}\StringTok{\textquotesingle{}count\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}2019.11\textquotesingle{}}
\NormalTok{) }

\NormalTok{ax.plot(df\_answer\_cnt.loc[(df\_answer\_cnt[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{]}\OperatorTok{==} \StringTok{\textquotesingle{}2020\textquotesingle{}}\NormalTok{), }\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{].value\_counts().sort\_index().to\_frame()[}\StringTok{\textquotesingle{}count\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}2020.11\textquotesingle{}}
\NormalTok{) }

\NormalTok{ax.plot(df\_answer\_cnt.loc[(df\_answer\_cnt[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{]}\OperatorTok{==} \StringTok{\textquotesingle{}2021\textquotesingle{}}\NormalTok{), }\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{].value\_counts().sort\_index().to\_frame()[}\StringTok{\textquotesingle{}count\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}2021.11\textquotesingle{}}
\CommentTok{\# label = [\textquotesingle{}question\textquotesingle{}, \textquotesingle{}answer\textquotesingle{}]}
\NormalTok{) }\CommentTok{\# create legened labels}

\NormalTok{ax.plot(df\_answer\_cnt.loc[(df\_answer\_cnt[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{]}\OperatorTok{==} \StringTok{\textquotesingle{}2022\textquotesingle{}}\NormalTok{), }\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{].value\_counts().sort\_index().to\_frame()[}\StringTok{\textquotesingle{}count\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{         label }\OperatorTok{=} \StringTok{\textquotesingle{}2022.11\textquotesingle{}}
        \CommentTok{\# label = [\textquotesingle{}question\textquotesingle{}, \textquotesingle{}answer\textquotesingle{}]}
\NormalTok{        ) }\CommentTok{\# create legened labels}

\NormalTok{ax.plot(df\_answer\_cnt.loc[(df\_answer\_cnt[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{]}\OperatorTok{==} \StringTok{\textquotesingle{}2023\textquotesingle{}}\NormalTok{), }\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{].value\_counts().sort\_index().to\_frame()[}\StringTok{\textquotesingle{}count\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{, }\CommentTok{\# bar color}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}2023.11\textquotesingle{}}
\NormalTok{        ) }\CommentTok{\# create legened labels}





\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Answer Count line plot\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}count\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}value\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\subsubsection{Minimun timedelta to get response per
Date}\label{minimun-timedelta-to-get-response-per-date}

\begin{itemize}
\tightlist
\item
  질문과 첫번째 답 사이 gap 에 대한 time distribution
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da[}\StringTok{\textquotesingle{}qna\_diff\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_da[}\StringTok{\textquotesingle{}a\_creationdate\textquotesingle{}}\NormalTok{] }\OperatorTok{{-}}\NormalTok{ df\_da[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_df }\OperatorTok{=}\NormalTok{ df\_da.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}qna\_diff\textquotesingle{}}\NormalTok{], ascending}\OperatorTok{=}\VariableTok{True}\NormalTok{).groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{]).head(}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_df[}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_da\_df[}\StringTok{\textquotesingle{}qna\_diff\textquotesingle{}}\NormalTok{]}\OperatorTok{/}\NormalTok{ pd.Timedelta(minutes}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_df[[}\StringTok{\textquotesingle{}qna\_diff\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_df\_dff        }\OperatorTok{=}\NormalTok{ df\_da\_df[[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]].groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).mean().reset\_index()}
\NormalTok{df\_da\_df\_dff\_min    }\OperatorTok{=}\NormalTok{ df\_da\_df[[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]].groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).}\BuiltInTok{min}\NormalTok{().reset\_index()}
\NormalTok{df\_da\_df\_dff\_max    }\OperatorTok{=}\NormalTok{ df\_da\_df[[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]].groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).}\BuiltInTok{max}\NormalTok{().reset\_index()}
\NormalTok{df\_da\_df\_dff\_median }\OperatorTok{=}\NormalTok{ df\_da\_df[[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]].groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).median().reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_df\_dff.head()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_da\_df\_dff.date}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_da\_df\_dff[}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Minimum timedelta to get response per Date"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Timedelta"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}



\NormalTok{ax.legend( title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\FloatTok{0.55}\NormalTok{))}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_da\_df\_dff\_median.date}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_da\_df\_dff\_median[}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Minimum timedelta to get response per Date"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Timedelta"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}



\NormalTok{ax.legend( title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\FloatTok{0.55}\NormalTok{))}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\subsubsection{Minimun timedelta to get response per Day in 1
month}\label{minimun-timedelta-to-get-response-per-day-in-1-month}

\begin{itemize}
\tightlist
\item
  질문과 첫번째 답 사이 gap 에 대한 time distribution
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_in\_month }\OperatorTok{=}\NormalTok{ df\_da[df\_da[}\StringTok{\textquotesingle{}qna\_diff\textquotesingle{}}\NormalTok{].dt.days }\OperatorTok{\textless{}=}\DecValTok{30}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_in\_month\_df }\OperatorTok{=}\NormalTok{ df\_da\_in\_month.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}qna\_diff\textquotesingle{}}\NormalTok{], ascending}\OperatorTok{=}\VariableTok{True}\NormalTok{).groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{]).head(}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_in\_month\_df[}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_da\_in\_month\_df[}\StringTok{\textquotesingle{}qna\_diff\textquotesingle{}}\NormalTok{]}\OperatorTok{/}\NormalTok{ pd.Timedelta(minutes}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_in\_month\_df        }\OperatorTok{=}\NormalTok{ df\_da\_in\_month\_df[[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]].groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).mean().reset\_index()}
\NormalTok{df\_da\_in\_month\_df\_min    }\OperatorTok{=}\NormalTok{ df\_da\_in\_month\_df[[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]].groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).}\BuiltInTok{min}\NormalTok{().reset\_index()}
\NormalTok{df\_da\_in\_month\_df\_max    }\OperatorTok{=}\NormalTok{ df\_da\_in\_month\_df[[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]].groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).}\BuiltInTok{max}\NormalTok{().reset\_index()}
\NormalTok{df\_da\_in\_month\_df\_median }\OperatorTok{=}\NormalTok{ df\_da\_in\_month\_df[[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]].groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).median().reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_da\_in\_month\_df.date}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_da\_in\_month\_df[}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Minimum timedelta to get response per Day in 1 Month"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Timedelta"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}



\NormalTok{ax.legend( title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\FloatTok{0.55}\NormalTok{))}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_da\_in\_month\_df\_median.date}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_da\_in\_month\_df\_median[}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Minimum timedelta to get response per Day in 1 Month"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Timedelta"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}



\NormalTok{ax.legend( title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\FloatTok{0.55}\NormalTok{))}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\subsubsection{Distribution of
Timedelta}\label{distribution-of-timedelta}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\CommentTok{\# ax.bar(df\_date\_per\_len\_max\_q.index}
\CommentTok{\#     ,  height = df\_date\_per\_len\_max\_q[\textquotesingle{}body\_len\textquotesingle{}]}
\CommentTok{\#     ,  color = \textquotesingle{}green\textquotesingle{}}
\CommentTok{\#     \# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\CommentTok{\#       ) \# hist type}

\NormalTok{ax.hist(df\_da\_df\_dff[}\StringTok{\textquotesingle{}qna\_diff\_int\textquotesingle{}}\NormalTok{], }\CommentTok{\# specify data}
\NormalTok{        bins }\OperatorTok{=} \DecValTok{20}\NormalTok{, }\CommentTok{\# number of bins}

\NormalTok{        edgecolor }\OperatorTok{=} \StringTok{\textquotesingle{}black\textquotesingle{}}\NormalTok{, }\CommentTok{\# bar edge color}
\NormalTok{        histtype }\OperatorTok{=} \StringTok{\textquotesingle{}bar\textquotesingle{}}\NormalTok{, }\CommentTok{\# type of histogram}
\NormalTok{        label }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}Answer Count\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}User Count\textquotesingle{}}\NormalTok{]) }\CommentTok{\# create legened labels}

\CommentTok{\# ax.bar(df\_date\_per\_len\_min\_q.index}
\CommentTok{\#     ,  height = df\_date\_per\_len\_min\_q[\textquotesingle{}body\_len\textquotesingle{}]}
\CommentTok{\#     ,  color = \textquotesingle{}red\textquotesingle{}}
\CommentTok{\#     \# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\CommentTok{\#       ) \# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Distribution of Timedelta"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Timedelta"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Count"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\CommentTok{\# major\_xticks = [\textquotesingle{}2013{-}11{-}30\textquotesingle{},\textquotesingle{}2014{-}11{-}30\textquotesingle{},\textquotesingle{}2015{-}11{-}30\textquotesingle{},\textquotesingle{}2016{-}11{-}30\textquotesingle{},\textquotesingle{}2017{-}11{-}30\textquotesingle{},\textquotesingle{}2018{-}11{-}30\textquotesingle{},\textquotesingle{}2019{-}11{-}30\textquotesingle{},\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\CommentTok{\#                 ,\textquotesingle{}2021{-}11{-}30\textquotesingle{}, \textquotesingle{}2022{-}11{-}30\textquotesingle{}, \textquotesingle{}2023{-}11{-}30\textquotesingle{}]}
\CommentTok{\# ax.set\_xticks(major\_xticks)}

\CommentTok{\# ax.axvline([\textquotesingle{}2022{-}11{-}30\textquotesingle{}], \# add vertical line}
\CommentTok{\#            color = \textquotesingle{}red\textquotesingle{},}
\CommentTok{\#            linestyle = \textquotesingle{}{-}{-}\textquotesingle{},}
\CommentTok{\#            linewidth = 1.5)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}



\CommentTok{\# ax.legend( title\_fontsize = 10, fontsize = 10,}
\CommentTok{\#           bbox\_to\_anchor = (1, 0.55))}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\subsubsection{Length of Questions per
Date}\label{length-of-questions-per-date}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_body.groupby([}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).mean([}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_len }\OperatorTok{=}\NormalTok{ df\_body.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).mean([}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_date\_per\_len\_min }\OperatorTok{=}\NormalTok{ df\_body.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).}\BuiltInTok{min}\NormalTok{([}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_date\_per\_len\_max }\OperatorTok{=}\NormalTok{ df\_body.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).}\BuiltInTok{max}\NormalTok{([}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_date\_per\_len\_median }\OperatorTok{=}\NormalTok{ df\_body.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).median([}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_body.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).}\BuiltInTok{max}\NormalTok{([}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_len\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_len[df\_date\_per\_len[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_len\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_q.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_date\_per\_len\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_len[df\_date\_per\_len[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_len\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_a.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_len\_min\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_min[df\_date\_per\_len\_min[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_len\_min\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_min\_q.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_date\_per\_len\_min\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_min[df\_date\_per\_len\_min[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_len\_min\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_min\_a.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_len\_max\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_max[df\_date\_per\_len\_max[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_len\_max\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_max\_q.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_date\_per\_len\_max\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_max[df\_date\_per\_len\_max[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_len\_max\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_max\_a.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_len\_median\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_median[df\_date\_per\_len\_median[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_len\_median\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_median\_q.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_date\_per\_len\_median\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_median[df\_date\_per\_len\_median[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_len\_median\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_median\_a.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\CommentTok{\# ax.bar(df\_date\_per\_len\_max\_q.index}
\CommentTok{\#     ,  height = df\_date\_per\_len\_max\_q[\textquotesingle{}body\_len\textquotesingle{}]}
\CommentTok{\#     ,  color = \textquotesingle{}green\textquotesingle{}}
\CommentTok{\#     \# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\CommentTok{\#       ) \# hist type}

\NormalTok{ax.bar(df\_date\_per\_len\_q.index}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_q[}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.bar(df\_date\_per\_len\_median\_q.index}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_median\_q[}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\CommentTok{\# ax.bar(df\_date\_per\_len\_min\_q.index}
\CommentTok{\#     ,  height = df\_date\_per\_len\_min\_q[\textquotesingle{}body\_len\textquotesingle{}]}
\CommentTok{\#     ,  color = \textquotesingle{}red\textquotesingle{}}
\CommentTok{\#     \# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\CommentTok{\#       ) \# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Length of Questions per Date"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Length"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}



\NormalTok{ax.legend( title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\FloatTok{0.55}\NormalTok{))}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_len\_diff }\OperatorTok{=}\NormalTok{ (df\_date\_per\_len\_max\_q[}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{] }\OperatorTok{{-}}\NormalTok{ df\_date\_per\_len\_min\_q[}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]).to\_frame()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.bar(df\_date\_per\_len\_diff.index}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_diff[}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Length of Questions per Date"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Length"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\subsubsection{Length of Answers per
Date}\label{length-of-answers-per-date}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_date\_per\_len\_a.index}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_a[}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.bar(df\_date\_per\_len\_median\_a.index}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_median\_a[}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Length of Answers per Date"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Length"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}

\NormalTok{ax.legend( title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\FloatTok{0.55}\NormalTok{))}

\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\subsubsection{Answer Length over Question Length per
Date}\label{answer-length-over-question-length-per-date}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_len\_rate }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_a[}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{].div( df\_date\_per\_len\_q[}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]).to\_frame()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_len\_rate.head()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_date\_per\_len\_rate.index}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_rate[}\StringTok{\textquotesingle{}body\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Answer Length over Question Length per Date"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"A Len/Q Len"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}





\end{Highlighting}
\end{Shaded}

\subsubsection{Length of SRC in Questions per
Date}\label{length-of-src-in-questions-per-date}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ cleanhtml(raw\_html):}
  \CommentTok{\# 1.Source code in python language is hard to understand, so replace all the \textless{}code\textgreater{} tag first}
\NormalTok{  cleantext\_1 }\OperatorTok{=}\NormalTok{ re.findall(}\VerbatimStringTok{r\textquotesingle{}(?\textless{}=\textbackslash{}\textless{}code\textgreater{})(.*?)(?=\textless{}\textbackslash{}/code\textgreater{})\textquotesingle{}}\NormalTok{, raw\_html.replace(}\StringTok{\textquotesingle{}}\CharTok{\textbackslash{}n}\StringTok{\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}\_**\_\textquotesingle{}}\NormalTok{))}
\NormalTok{  cleantext\_1 }\OperatorTok{=}\NormalTok{ [x.replace(}\StringTok{\textquotesingle{}\_**\_\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}}\CharTok{\textbackslash{}n}\StringTok{\textquotesingle{}}\NormalTok{) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ cleantext\_1]}
  \CommentTok{\# 2. replace html tags}
  \CommentTok{\# \textless{}p\textgreater{}}
\NormalTok{  tag\_re }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\StringTok{\textquotesingle{}\textless{}.*?\textgreater{}\textquotesingle{}}\NormalTok{)}
\NormalTok{  cleantext\_2 }\OperatorTok{=}\NormalTok{ [re.sub(tag\_re, }\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{, x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ cleantext\_1]}
  \ControlFlowTok{return}\NormalTok{ cleantext\_2}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# \# apply the function, cleanhtml to the question and body text}
\CommentTok{\# df\_body.loc[:, \textquotesingle{}prep\_body\textquotesingle{}] = df\_body[\textquotesingle{}body\textquotesingle{}].apply(cleanhtml)}
\CommentTok{\# 15분 걸림}
\CommentTok{\# 전체 데이터셋 }
\CommentTok{\# with open(\textquotesingle{}../../data/df\_body\_prep.pkl\textquotesingle{}, \textquotesingle{}wb\textquotesingle{}) as f:}
\CommentTok{\#     pickle.dump(df\_body, f)}
\CommentTok{\# 파일 불러오기}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}../../data/df\_body\_prep.pkl\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    df\_body }\OperatorTok{=}\NormalTok{ pickle.load(f)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_body[}\StringTok{\textquotesingle{}concat\_prep\_body\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_body[}\StringTok{\textquotesingle{}prep\_body\textquotesingle{}}\NormalTok{].}\BuiltInTok{apply}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x : }\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{.join(x))}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_body[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_body[}\StringTok{\textquotesingle{}concat\_prep\_body\textquotesingle{}}\NormalTok{].}\BuiltInTok{apply}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x:}\BuiltInTok{len}\NormalTok{(x))}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{len}\NormalTok{(df\_body[}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{].unique())}
\CommentTok{\# 43352042}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_src\_len }\OperatorTok{=}\NormalTok{ df\_body.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).mean([}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_date\_per\_src\_len\_min }\OperatorTok{=}\NormalTok{ df\_body.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).}\BuiltInTok{min}\NormalTok{([}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_date\_per\_src\_len\_max }\OperatorTok{=}\NormalTok{ df\_body.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).}\BuiltInTok{max}\NormalTok{([}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_date\_per\_src\_len\_median }\OperatorTok{=}\NormalTok{ df\_body.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]).median([}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_src\_len\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len[df\_date\_per\_src\_len[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_src\_len\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_q.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_date\_per\_src\_len\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len[df\_date\_per\_src\_len[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_src\_len\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_a.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_src\_len\_median\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_median[df\_date\_per\_src\_len\_median[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_src\_len\_median\_q }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_median\_q.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_date\_per\_src\_len\_median\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_median[df\_date\_per\_src\_len\_median[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{]}
\NormalTok{df\_date\_per\_src\_len\_median\_a }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_median\_a.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_date\_per\_src\_len\_q.index}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_q[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\NormalTok{ax.bar(df\_date\_per\_src\_len\_median\_q.index}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_median\_q[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Length of SRC in Questions per Date"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Length"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}

\NormalTok{ax.legend( title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\FloatTok{0.55}\NormalTok{))}


\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\subsubsection{Length of SRC in Answers per
Date}\label{length-of-src-in-answers-per-date}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_date\_per\_src\_len\_a.index}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_a[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.bar(df\_date\_per\_src\_len\_median\_a.index}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_median\_a[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Length  of SRC in Answers per Date"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Length"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}

\NormalTok{ax.legend( title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\FloatTok{0.55}\NormalTok{))}

\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_src\_len\_rate }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_a[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{].div( df\_date\_per\_src\_len\_q[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]).to\_frame()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_date\_per\_src\_len\_rate.index}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_src\_len\_rate[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Question and Answer Count per Date"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Count"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\CommentTok{\# ax.axvline(\textquotesingle{}2022{-}11{-}30\textquotesingle{}, \# add vertical line}
\CommentTok{\#            color = \textquotesingle{}red\textquotesingle{},}
\CommentTok{\#            linestyle = \textquotesingle{}{-}{-}\textquotesingle{},}
\CommentTok{\#            linewidth = 1.5)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_q\_a }\OperatorTok{=}\NormalTok{ df\_body[(df\_body[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{)}\OperatorTok{\&}\NormalTok{(df\_body[}\StringTok{\textquotesingle{}answered\_yn\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\DecValTok{1}\NormalTok{)]}
\NormalTok{df\_q }\OperatorTok{=}\NormalTok{ df\_body[(df\_body[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{)}\OperatorTok{\&}\NormalTok{(df\_body[}\StringTok{\textquotesingle{}answered\_yn\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\DecValTok{0}\NormalTok{)]}
\CommentTok{\# df\_body.groupby([\textquotesingle{}date\textquotesingle{},\textquotesingle{}year\textquotesingle{}, \textquotesingle{}month\textquotesingle{}, \textquotesingle{}day\textquotesingle{}, \textquotesingle{}posttypeid\textquotesingle{}]).mean([\textquotesingle{}body\_len\textquotesingle{}]).reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# df\_date\_per\_src\_len = }
\NormalTok{df\_q\_a\_m }\OperatorTok{=}\NormalTok{ df\_q\_a.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).mean([}\StringTok{\textquotesingle{}src\_per\_body\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_q\_a\_m\_median }\OperatorTok{=}\NormalTok{ df\_q\_a.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).median([}\StringTok{\textquotesingle{}src\_per\_body\textquotesingle{}}\NormalTok{]).reset\_index()}

\NormalTok{df\_q\_m }\OperatorTok{=}\NormalTok{ df\_q.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).mean([}\StringTok{\textquotesingle{}src\_per\_body\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_q\_m\_median }\OperatorTok{=}\NormalTok{ df\_q.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).median([}\StringTok{\textquotesingle{}src\_per\_body\textquotesingle{}}\NormalTok{]).reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_q\_m}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# df\_q\_a\_m[\textquotesingle{}src\_per\_body\textquotesingle{}].div(df\_q\_m[\textquotesingle{}src\_per\_body\textquotesingle{}])}
\end{Highlighting}
\end{Shaded}

\subsubsection{SRC length of Answered
Questions}\label{src-length-of-answered-questions}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\# create a figure with multiple subplots}


\NormalTok{sharey }\OperatorTok{=} \VariableTok{True} \CommentTok{\#\# 또는 sharey=False}
\NormalTok{sharex }\OperatorTok{=} \VariableTok{True} \CommentTok{\#\# 또는 sharex=False}

\NormalTok{fig, axs }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{20}\NormalTok{, }\DecValTok{5}\NormalTok{), sharey}\OperatorTok{=}\NormalTok{sharey, sharex}\OperatorTok{=}\NormalTok{sharex)}
\CommentTok{\# plt.xticks(rotation=45)}
\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{yticks }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{200}\NormalTok{, }\DecValTok{2000}\NormalTok{, }\DecValTok{400}\NormalTok{)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].bar(df\_q\_a\_m[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{]}
\NormalTok{        ,  df\_q\_a\_m[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{        ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
        \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\NormalTok{axs[}\DecValTok{0}\NormalTok{].bar(df\_q\_a\_m\_median[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{]}
\NormalTok{        ,  df\_q\_a\_m\_median[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{        ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}
        \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_title(}\StringTok{\textquotesingle{}SRC length of Answered Questions \textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_ylabel(}\StringTok{\textquotesingle{}Length\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_xticks(major\_xticks)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_yticks(yticks)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].axvline([major\_xticks[}\OperatorTok{{-}}\DecValTok{2}\NormalTok{]], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].tick\_params(axis}\OperatorTok{=}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{, rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\CommentTok{\# axs[0].yticks(yt)}

\NormalTok{axs[}\DecValTok{1}\NormalTok{].bar(df\_q\_m[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{]}
\NormalTok{        ,  df\_q\_m[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{        ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}lightgreen\textquotesingle{}}
        \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].bar(df\_q\_m\_median[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{]}
\NormalTok{        ,  df\_q\_m\_median[}\StringTok{\textquotesingle{}src\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{        ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}
        \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_title(}\StringTok{\textquotesingle{}SRC length of not Answered Questions \textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_ylabel(}\StringTok{\textquotesingle{}Length\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_xticks(major\_xticks)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_yticks(yticks)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].axvline([major\_xticks[}\OperatorTok{{-}}\DecValTok{2}\NormalTok{]], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].tick\_params(axis}\OperatorTok{=}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{, rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# fig, ax = plt.subplots()}

\CommentTok{\# ax.bar(df\_date\_per\_src\_len\_rate.index}
\CommentTok{\#     ,  height = df\_q\_a\_m[\textquotesingle{}src\_per\_body\textquotesingle{}].div(df\_q\_m[\textquotesingle{}src\_per\_body\textquotesingle{}])}
\CommentTok{\#     ,  color = \textquotesingle{}skyblue\textquotesingle{}}
\CommentTok{\#     \# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\CommentTok{\#       ) \# hist type}

\CommentTok{\# ax.set\_title("Question and Answer Count per Date", \# add title}
\CommentTok{\#              fontsize = 12.5,}
\CommentTok{\#              weight = \textquotesingle{}bold\textquotesingle{},}
\CommentTok{\#              pad = 10,}
\CommentTok{\#              loc = \textquotesingle{}center\textquotesingle{})}
\CommentTok{\# ax.set\_xlabel("Date", \# add x{-}axis label}
\CommentTok{\#               fontsize = 12.5)}
\CommentTok{\# ax.set\_ylabel("Count", \# add y{-}axis label}
\CommentTok{\#               fontsize = 12.5)}

\CommentTok{\# major\_xticks = [\textquotesingle{}2013{-}11{-}30\textquotesingle{},\textquotesingle{}2014{-}11{-}30\textquotesingle{},\textquotesingle{}2015{-}11{-}30\textquotesingle{},\textquotesingle{}2016{-}11{-}30\textquotesingle{},\textquotesingle{}2017{-}11{-}30\textquotesingle{},\textquotesingle{}2018{-}11{-}30\textquotesingle{},\textquotesingle{}2019{-}11{-}30\textquotesingle{},\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\CommentTok{\#                 ,\textquotesingle{}2021{-}11{-}30\textquotesingle{}, \textquotesingle{}2022{-}11{-}30\textquotesingle{}, \textquotesingle{}2023{-}11{-}30\textquotesingle{}]}
\CommentTok{\# ax.set\_xticks(major\_xticks)}

\CommentTok{\# \# ax.axvline(\textquotesingle{}2022{-}11{-}30\textquotesingle{}, \# add vertical line}
\CommentTok{\# \#            color = \textquotesingle{}red\textquotesingle{},}
\CommentTok{\# \#            linestyle = \textquotesingle{}{-}{-}\textquotesingle{},}
\CommentTok{\# \#            linewidth = 1.5)}


\CommentTok{\# ax.legend( title\_fontsize = 10, fontsize = 10,}
\CommentTok{\#           bbox\_to\_anchor = (1, 0.55))}

\CommentTok{\# plt.xticks(rotation=45)}
\CommentTok{\# plt.show();}
\end{Highlighting}
\end{Shaded}

\subsubsection{Length of Title per Day}\label{length-of-title-per-day}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_body\_q }\OperatorTok{=}\NormalTok{ df\_body[df\_body[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_body\_q[}\StringTok{\textquotesingle{}title\_len\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_body\_q[}\StringTok{\textquotesingle{}title\textquotesingle{}}\NormalTok{].}\BuiltInTok{apply}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x : }\BuiltInTok{len}\NormalTok{(x))}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_date\_per\_t\_len         }\OperatorTok{=}\NormalTok{ df\_body\_q.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).mean([}\StringTok{\textquotesingle{}title\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_date\_per\_len\_t\_min     }\OperatorTok{=}\NormalTok{ df\_body\_q.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).}\BuiltInTok{min}\NormalTok{([}\StringTok{\textquotesingle{}title\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_date\_per\_len\_t\_max     }\OperatorTok{=}\NormalTok{ df\_body\_q.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).}\BuiltInTok{max}\NormalTok{([}\StringTok{\textquotesingle{}title\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_date\_per\_len\_t\_median  }\OperatorTok{=}\NormalTok{ df\_body\_q.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).median([}\StringTok{\textquotesingle{}title\_len\textquotesingle{}}\NormalTok{]).reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_date\_per\_t\_len.date}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_t\_len[}\StringTok{\textquotesingle{}title\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\NormalTok{ax.bar(df\_date\_per\_len\_t\_median.date}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_date\_per\_len\_t\_median[}\StringTok{\textquotesingle{}title\_len\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}median\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\NormalTok{ax.set\_title(}\StringTok{"Length of Title per Day"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Count"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}

\NormalTok{ax.legend( title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\FloatTok{0.55}\NormalTok{))}

\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\subsection{3. Tag}\label{tag}

\subsubsection{Number of Tag per Day}\label{number-of-tag-per-day}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q }\OperatorTok{=}\NormalTok{ df\_da[[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}q\_tags\textquotesingle{}}\NormalTok{]].drop\_duplicates()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_da\_q[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.year}
\NormalTok{df\_da\_q[}\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_da\_q[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.month}
\NormalTok{df\_da\_q[}\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_da\_q[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.day}
\NormalTok{df\_da\_q[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_da\_q[}\StringTok{\textquotesingle{}q\_creationdate\textquotesingle{}}\NormalTok{].dt.date}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q[}\StringTok{\textquotesingle{}q\_tags\_list\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_da\_q[}\StringTok{\textquotesingle{}q\_tags\textquotesingle{}}\NormalTok{].}\BuiltInTok{apply}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x : x.strip().split(}\StringTok{\textquotesingle{} \textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(df\_da\_q[[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{]].shape)}
\BuiltInTok{print}\NormalTok{(df\_da\_q[[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{]].drop\_duplicates().shape)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q }\OperatorTok{=}\NormalTok{ df\_da\_q.reset\_index(drop}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q\_ex }\OperatorTok{=}\NormalTok{ df\_da\_q[[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}q\_tags\_list\textquotesingle{}}\NormalTok{]].}\BuiltInTok{apply}\NormalTok{(pd.Series.explode)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q\_ex[}\StringTok{\textquotesingle{}q\_tags\_list\textquotesingle{}}\NormalTok{].value\_counts().head(}\DecValTok{20}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q\_ex}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q[}\StringTok{\textquotesingle{}q\_tagslen\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_da\_q[}\StringTok{\textquotesingle{}q\_tags\textquotesingle{}}\NormalTok{].}\BuiltInTok{apply}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x : }\BuiltInTok{len}\NormalTok{(x.strip().split(}\StringTok{\textquotesingle{} \textquotesingle{}}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q\_year }\OperatorTok{=}\NormalTok{ pd.merge(df\_da\_q[[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{]], df\_da\_q\_ex, on }\OperatorTok{=} \StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q\_year }\OperatorTok{=}\NormalTok{ df\_da\_q\_year.groupby([}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}q\_tags\_list\textquotesingle{}}\NormalTok{]).count()[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{].reset\_index()}
\CommentTok{\#  df\_da.sort\_values(by = [\textquotesingle{}date\textquotesingle{}, \textquotesingle{}q\_id\textquotesingle{},\textquotesingle{}qna\_diff\textquotesingle{}], ascending=True).groupby([\textquotesingle{}date\textquotesingle{}, \textquotesingle{}q\_id\textquotesingle{}]).head(1) \textgreater{} 확인필요 }
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q\_year }\OperatorTok{=}\NormalTok{ df\_da\_q\_year.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{], ascending }\OperatorTok{=} \VariableTok{False}\NormalTok{).groupby([}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{]).head(}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q\_year}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\#\# create a figure with multiple subplots}


\NormalTok{sharey }\OperatorTok{=} \VariableTok{False} \CommentTok{\#\# 또는 sharey=False}
\NormalTok{sharex }\OperatorTok{=} \VariableTok{False} \CommentTok{\#\# 또는 sharex=False}

\NormalTok{fig, axs }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{5}\NormalTok{, figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{20}\NormalTok{, }\DecValTok{10}\NormalTok{), sharey}\OperatorTok{=}\NormalTok{sharey, sharex}\OperatorTok{=}\NormalTok{sharex)}

\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{2}\NormalTok{):}
    \ControlFlowTok{for}\NormalTok{ y }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{5}\NormalTok{):}
\NormalTok{        standard\_year }\OperatorTok{=} \DecValTok{2014}
\NormalTok{        loop\_year }\OperatorTok{=}\NormalTok{ standard\_year }\OperatorTok{+}\NormalTok{ (x}\OperatorTok{*}\DecValTok{5} \OperatorTok{+}\NormalTok{ y}\OperatorTok{*}\DecValTok{1}\NormalTok{)}
\NormalTok{        axs[x][y].bar( df\_da\_q\_year[df\_da\_q\_year[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{loop\_year].q\_tags\_list}
\NormalTok{                    ,  df\_da\_q\_year[df\_da\_q\_year[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{loop\_year].q\_id}
\NormalTok{                    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{                ) }\CommentTok{\# hist type}
\NormalTok{        axs[x][y].set\_title(}\BuiltInTok{str}\NormalTok{(loop\_year), }\CommentTok{\# add title}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{        axs[x][y].tick\_params(axis}\OperatorTok{=}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{, rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}


 
\NormalTok{plt.suptitle(}\StringTok{"Top 10 Tags of Questions over 10 years"}\NormalTok{)      }
\NormalTok{plt.tight\_layout()    }
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q\_per\_len         }\OperatorTok{=}\NormalTok{ df\_da\_q.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).mean([}\StringTok{\textquotesingle{}q\_tagslen\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_da\_q\_per\_len\_min     }\OperatorTok{=}\NormalTok{ df\_da\_q.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).}\BuiltInTok{min}\NormalTok{([}\StringTok{\textquotesingle{}q\_tagslen\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_da\_q\_per\_len\_max     }\OperatorTok{=}\NormalTok{ df\_da\_q.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).}\BuiltInTok{max}\NormalTok{([}\StringTok{\textquotesingle{}q\_tagslen\textquotesingle{}}\NormalTok{]).reset\_index()}
\NormalTok{df\_da\_q\_per\_len\_median  }\OperatorTok{=}\NormalTok{ df\_da\_q.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).median([}\StringTok{\textquotesingle{}q\_tagslen\textquotesingle{}}\NormalTok{]).reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q\_per\_len}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_da\_q\_per\_len\_median.date}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_da\_q\_per\_len\_median[}\StringTok{\textquotesingle{}q\_tagslen\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}median\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\NormalTok{ax.bar(df\_da\_q\_per\_len.date}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_da\_q\_per\_len[}\StringTok{\textquotesingle{}q\_tagslen\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}



\NormalTok{ax.set\_title(}\StringTok{"Number of tag per Day"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Count"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\CommentTok{\# ax.axvline(\textquotesingle{}2022{-}11{-}30\textquotesingle{}, \# add vertical line}
\CommentTok{\#            color = \textquotesingle{}red\textquotesingle{},}
\CommentTok{\#            linestyle = \textquotesingle{}{-}{-}\textquotesingle{},}
\CommentTok{\#            linewidth = 1.5)}

\NormalTok{ax.legend( title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\FloatTok{0.55}\NormalTok{))}

\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q\_per\_len\_median}
\end{Highlighting}
\end{Shaded}

\subsubsection{4. User}\label{user}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_user[}\StringTok{\textquotesingle{}creationdate\textquotesingle{}}\NormalTok{].dt.year}
\NormalTok{df\_user[}\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_user[}\StringTok{\textquotesingle{}creationdate\textquotesingle{}}\NormalTok{].dt.month}
\NormalTok{df\_user[}\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_user[}\StringTok{\textquotesingle{}creationdate\textquotesingle{}}\NormalTok{].dt.day}
\NormalTok{df\_user[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_user[}\StringTok{\textquotesingle{}creationdate\textquotesingle{}}\NormalTok{].dt.date}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).count()[[}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{]].reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user\_per\_date         }\OperatorTok{=}\NormalTok{ df\_user.groupby([}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}month\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}day\textquotesingle{}}\NormalTok{]).count()[[}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{]].reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user\_per\_date}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{ax.bar(df\_user\_per\_date.date}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_user\_per\_date[}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{    ,  label }\OperatorTok{=} \StringTok{\textquotesingle{}mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{ax.set\_title(}\StringTok{"Sign up Users per Day"}\NormalTok{, }\CommentTok{\# add title}
\NormalTok{             fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{,}
\NormalTok{             weight }\OperatorTok{=} \StringTok{\textquotesingle{}bold\textquotesingle{}}\NormalTok{,}
\NormalTok{             pad }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{             loc }\OperatorTok{=} \StringTok{\textquotesingle{}center\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{"Date"}\NormalTok{, }\CommentTok{\# add x{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{"Count"}\NormalTok{, }\CommentTok{\# add y{-}axis label}
\NormalTok{              fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{)}

\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.axvline([}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{], }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}

\CommentTok{\# ax.legend( title\_fontsize = 10, fontsize = 10,}
\CommentTok{\#           bbox\_to\_anchor = (1, 0.55))}

\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\subsection{4. User}\label{user-1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{]   }\OperatorTok{=}\NormalTok{ df\_user[}\StringTok{\textquotesingle{}creationdate\textquotesingle{}}\NormalTok{].dt.date}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q }\OperatorTok{=}\NormalTok{ df\_da[[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}q\_owneruserid\textquotesingle{}}\NormalTok{]].drop\_duplicates()}
\NormalTok{df\_da\_a }\OperatorTok{=}\NormalTok{ df\_da[[}\StringTok{\textquotesingle{}a\_id\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}a\_owneruserid\textquotesingle{}}\NormalTok{]].drop\_duplicates()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_da\_q\_cnt }\OperatorTok{=}\NormalTok{ df\_da\_q.groupby([}\StringTok{\textquotesingle{}q\_owneruserid\textquotesingle{}}\NormalTok{]).count()[[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{]]}
\NormalTok{df\_da\_a\_cnt }\OperatorTok{=}\NormalTok{ df\_da\_a.groupby([}\StringTok{\textquotesingle{}a\_owneruserid\textquotesingle{}}\NormalTok{]).count()[[}\StringTok{\textquotesingle{}a\_id\textquotesingle{}}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user\_qna }\OperatorTok{=}\NormalTok{ pd.merge(df\_user, df\_da\_q\_cnt, left\_on }\OperatorTok{=} \StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{, right\_on }\OperatorTok{=} \StringTok{\textquotesingle{}q\_owneruserid\textquotesingle{}}\NormalTok{, how}\OperatorTok{=} \StringTok{\textquotesingle{}left\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_user\_qna }\OperatorTok{=}\NormalTok{ pd.merge(df\_user\_qna, df\_da\_a\_cnt, left\_on }\OperatorTok{=} \StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{, right\_on }\OperatorTok{=} \StringTok{\textquotesingle{}a\_owneruserid\textquotesingle{}}\NormalTok{, how}\OperatorTok{=} \StringTok{\textquotesingle{}left\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user\_qna.fillna(}\DecValTok{0}\NormalTok{, inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user\_qna}
\end{Highlighting}
\end{Shaded}

\subsubsection{Question and Answer}\label{question-and-answer}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig\_scatter\_reg, ax }\OperatorTok{=}\NormalTok{ plt.subplots(figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{10}\NormalTok{, }\DecValTok{6}\NormalTok{))}

\NormalTok{ax.scatter(df\_user\_qna[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{], df\_user\_qna[}\StringTok{\textquotesingle{}a\_id\textquotesingle{}}\NormalTok{], color }\OperatorTok{=} \StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{, alpha }\OperatorTok{=} \FloatTok{0.6}\NormalTok{)}

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Question and Answer\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Question\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Answer\textquotesingle{}}\NormalTok{)}


\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user\_qna}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user\_qna[}\StringTok{\textquotesingle{}gpt\_af\_yn\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.where(df\_user\_qna[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}=}\NormalTok{ datetime.date(}\DecValTok{2022}\NormalTok{,}\DecValTok{11}\NormalTok{,}\DecValTok{30}\NormalTok{), }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user\_qna}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig\_scatter\_reg, ax }\OperatorTok{=}\NormalTok{ plt.subplots(figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{10}\NormalTok{, }\DecValTok{6}\NormalTok{))}
\NormalTok{sns.scatterplot(data }\OperatorTok{=}\NormalTok{ df\_user\_qna, x }\OperatorTok{=} \StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{, y }\OperatorTok{=} \StringTok{\textquotesingle{}a\_id\textquotesingle{}}\NormalTok{, hue }\OperatorTok{=} \StringTok{\textquotesingle{}gpt\_af\_yn\textquotesingle{}}\NormalTok{ )}

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Question and Answer\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Question\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Answer\textquotesingle{}}\NormalTok{)}


\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig\_scatter\_reg, ax }\OperatorTok{=}\NormalTok{ plt.subplots(figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{10}\NormalTok{, }\DecValTok{6}\NormalTok{))}
\NormalTok{sns.scatterplot(data }\OperatorTok{=}\NormalTok{ df\_user\_qna[df\_user\_qna[}\StringTok{\textquotesingle{}gpt\_af\_yn\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\DecValTok{1}\NormalTok{] , x }\OperatorTok{=} \StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{, y }\OperatorTok{=} \StringTok{\textquotesingle{}a\_id\textquotesingle{}}\NormalTok{, hue }\OperatorTok{=} \StringTok{\textquotesingle{}gpt\_af\_yn\textquotesingle{}}\NormalTok{ )}

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Question and Answer\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Question\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Answer\textquotesingle{}}\NormalTok{)}


\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_user\_qna[df\_user\_qna[}\StringTok{\textquotesingle{}a\_id\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}}\DecValTok{70000}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

아니 혼자 7만건은 좀 너무한거 아닙니까\ldots ㅎㅎㅎㅎㅎ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_q\_1144035 }\OperatorTok{=}\NormalTok{ df\_da.loc[df\_da[}\StringTok{\textquotesingle{}a\_owneruserid\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \DecValTok{1144035}\NormalTok{, [}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}a\_creationdate\textquotesingle{}}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_q\_1144035 }\OperatorTok{=}\NormalTok{ df\_q\_1144035[[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}a\_creationdate\textquotesingle{}}\NormalTok{]].drop\_duplicates()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_q\_1144035[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_q\_1144035[}\StringTok{\textquotesingle{}a\_creationdate\textquotesingle{}}\NormalTok{].dt.date}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_q\_1144035}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig\_scatter\_reg, ax }\OperatorTok{=}\NormalTok{ plt.subplots(figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{10}\NormalTok{, }\DecValTok{6}\NormalTok{))}

\NormalTok{ax.scatter(df\_q\_1144035[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{], df\_q\_1144035[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{], color }\OperatorTok{=} \StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{, alpha }\OperatorTok{=} \FloatTok{0.6}\NormalTok{)}

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Question and Answer\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Question\textquotesingle{}}\NormalTok{)}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Answer\textquotesingle{}}\NormalTok{)}


\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_q\_1144035[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{].}\BuiltInTok{max}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_q\_1144035.groupby(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{).count()[[}\StringTok{\textquotesingle{}q\_id\textquotesingle{}}\NormalTok{]].sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\subsubsection{Number of Posts after n years from
signup}\label{number-of-posts-after-n-years-from-signup}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.plot(df\_year\_from\_signup\_qna.loc[df\_year\_from\_signup\_qna[}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}=}\DecValTok{0}\NormalTok{, :].yeardiff.values ,}
\NormalTok{        df\_year\_from\_signup\_qna.loc[df\_year\_from\_signup\_qna[}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}=}\DecValTok{0}\NormalTok{, }\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Question and Answer\textquotesingle{}}
\NormalTok{) }


\NormalTok{ax.plot(df\_year\_from\_signup\_qna.loc[df\_year\_from\_signup\_qna[}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}=}\DecValTok{0}\NormalTok{, :].yeardiff.values ,}
\NormalTok{        df\_year\_from\_signup\_a.loc[df\_year\_from\_signup\_a[}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}=}\DecValTok{0}\NormalTok{, }\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Answer\textquotesingle{}}
\NormalTok{) }

\NormalTok{ax.plot(df\_year\_from\_signup\_qna.loc[df\_year\_from\_signup\_qna[}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}=}\DecValTok{0}\NormalTok{, :].yeardiff.values ,}
\NormalTok{        df\_year\_from\_signup\_q.loc[df\_year\_from\_signup\_q[}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}=}\DecValTok{0}\NormalTok{, }\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}lightgreen\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Question\textquotesingle{}}
\NormalTok{) }

\CommentTok{\# }

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Number of Posts after n years from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-149-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_year\_from\_signup\_qna.loc[df\_year\_from\_signup\_qna[}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}}\DecValTok{0}\NormalTok{, :].yeardiff.values}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([ 1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12., 13.,
       14., 15., 16.])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_year\_from\_signup\_qna\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}mean\_cnt\textquotesingle{}}\NormalTok{].values}
\CommentTok{\# [\textquotesingle{}mean\_cnt\textquotesingle{}]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([Decimal('1.1694610687170988'), Decimal('6.1035138658231052'),
       Decimal('6.7678097725903294'), Decimal('6.6143812951156638'),
       Decimal('6.2706355316055085'), Decimal('5.9554522122198812'),
       Decimal('5.6700696650944327'), Decimal('5.4775094769932505'),
       Decimal('5.4027432056589229'), Decimal('5.3259167526659787'),
       Decimal('5.2684918716344985'), Decimal('5.2058119005582860'),
       Decimal('5.5068743390058648'), Decimal('6.1495202639305064'),
       Decimal('6.6549380755795491'), Decimal('6.8955567357054346'),
       Decimal('4.8009331259720062')], dtype=object)
\end{verbatim}

\subsubsection{Average Number of Posts after n year from sign
up}\label{average-number-of-posts-after-n-year-from-sign-up}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.plot(df\_year\_from\_signup\_qna\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}mean\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Question and Answer\textquotesingle{}}
\NormalTok{) }

        
\NormalTok{ax.plot(df\_year\_from\_signup\_a\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}mean\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Answer\textquotesingle{}}
\NormalTok{) }

\NormalTok{ax.plot(df\_year\_from\_signup\_q\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}mean\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}lightgreen\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Question\textquotesingle{}}
\NormalTok{) }

\CommentTok{\# }

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Average Number of Posts after n year from sign up\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-152-output-1.png}

\subsubsection{Number of Unique Users per Post after n years from
signup}\label{number-of-unique-users-per-post-after-n-years-from-signup}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_year\_from\_signup\_cnt }\OperatorTok{=}\NormalTok{ df\_year\_from\_signup\_cnt[df\_year\_from\_signup\_cnt[}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}=}\DecValTok{0}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.plot(df\_year\_from\_signup\_cnt.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}tot\_usr\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Question and Answer\textquotesingle{}}
\NormalTok{) }


\NormalTok{ax.plot(df\_year\_from\_signup\_cnt.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}a\_usr\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Answer\textquotesingle{}}
\NormalTok{)}


\NormalTok{ax.plot(df\_year\_from\_signup\_cnt.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}q\_usr\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}lightgreen\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Question\textquotesingle{}}
\NormalTok{) }



\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{} Number of Unique Users per Post after n years from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}\# of Unique Users\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-155-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]

\end{Highlighting}
\end{Shaded}

\begin{verbatim}
NameError: name 'df_year_from_signup_cnt_over8' is not defined
[0;31m---------------------------------------------------------------------------[0m
[0;31mNameError[0m                                 Traceback (most recent call last)
Cell [0;32mIn[22], line 1[0m
[0;32m----> 1[0m [43mdf_year_from_signup_cnt_over8[49m[38;5;241m.[39myeardiff[38;5;241m.[39mvalues

[0;31mNameError[0m: name 'df_year_from_signup_cnt_over8' is not defined
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{df\_year\_from\_signup\_cnt\_over8 }\OperatorTok{=}\NormalTok{ df\_year\_from\_signup\_cnt[df\_year\_from\_signup\_cnt[}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}=}\DecValTok{8}\NormalTok{]}
\NormalTok{ax.plot(df\_year\_from\_signup\_cnt\_over8.yeardiff.values, }
\NormalTok{        df\_year\_from\_signup\_cnt\_over8.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}tot\_usr\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Post\textquotesingle{}}
\NormalTok{) }


\NormalTok{ax.plot(df\_year\_from\_signup\_cnt\_over8.yeardiff.values,}
\NormalTok{        df\_year\_from\_signup\_cnt\_over8.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}q\_usr\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Questions\textquotesingle{}}
\NormalTok{) }

\NormalTok{ax.plot(df\_year\_from\_signup\_cnt\_over8.yeardiff.values,}
\NormalTok{        df\_year\_from\_signup\_cnt\_over8.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}a\_usr\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Answers\textquotesingle{}}
\NormalTok{) }



\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Number of Unique Users per Post after n years from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}\# of Unique Users\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}
\NormalTok{ax.set\_xticks(np.arange(}\DecValTok{8}\NormalTok{, }\DecValTok{17}\NormalTok{))}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-157-output-1.png}

\subsubsection{Median Number of Posts after year from
signup}\label{median-number-of-posts-after-year-from-signup}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.plot(df\_year\_from\_signup\_qna\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}med\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Question and Answer\textquotesingle{}}
\NormalTok{) }


\NormalTok{ax.plot(df\_year\_from\_signup\_q\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}med\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Answer only\textquotesingle{}}
\NormalTok{) }

\CommentTok{\# ax.plot(df\_year\_from\_signup\_a\_mm[\textquotesingle{}med\_cnt\textquotesingle{}].values, \# specify data}
\CommentTok{\#         color = \textquotesingle{}lightgreen\textquotesingle{},}
\CommentTok{\#         label = \textquotesingle{}Question only\textquotesingle{}}
\CommentTok{\# ) }

\CommentTok{\# }

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Median Number of Posts after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-158-output-1.png}

\subsubsection{Comparing Median/Average Number of Posts after year from
signup}\label{comparing-medianaverage-number-of-posts-after-year-from-signup}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.plot(df\_year\_from\_signup\_qna\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}mean\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
\NormalTok{) }




\NormalTok{ax.plot(df\_year\_from\_signup\_qna\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}med\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}lightgreen\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
\NormalTok{)}




\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Posts after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-159-output-1.png}

\subsubsection{Comparing Median/Average Number of Questions after year
from
signup}\label{comparing-medianaverage-number-of-questions-after-year-from-signup}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.plot(df\_year\_from\_signup\_q\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}mean\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
\NormalTok{) }

\NormalTok{ax.plot(df\_year\_from\_signup\_q\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}med\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}lightgreen\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
\NormalTok{) }



\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Questions after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-160-output-1.png}

\subsubsection{Comparing Median/Average Number of Answers after year
from
signup}\label{comparing-medianaverage-number-of-answers-after-year-from-signup}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.plot(df\_year\_from\_signup\_a\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}mean\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
\NormalTok{) }

\NormalTok{ax.plot(df\_year\_from\_signup\_a\_mm.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])[}\StringTok{\textquotesingle{}med\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}lightgreen\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
\NormalTok{) }



\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_year\_gpt\_yn }\OperatorTok{=}\NormalTok{ df\_year\_gpt\_yn[df\_year\_gpt\_yn[}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{]}\OperatorTok{\textgreater{}=}\DecValTok{0}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_year\_gpt\_yn}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{c\_gpt\_n }\OperatorTok{=}\NormalTok{ df\_year\_gpt\_yn[}\StringTok{\textquotesingle{}c\_gpt\_yn\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\DecValTok{0}
\NormalTok{c\_gpt\_y }\OperatorTok{=}\NormalTok{ df\_year\_gpt\_yn[}\StringTok{\textquotesingle{}c\_gpt\_yn\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\DecValTok{1} 

\NormalTok{u\_c\_gpt\_n }\OperatorTok{=}\NormalTok{ df\_year\_gpt\_yn[}\StringTok{\textquotesingle{}u\_c\_gpt\_yn\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\DecValTok{0}
\NormalTok{u\_c\_gpt\_y }\OperatorTok{=}\NormalTok{ df\_year\_gpt\_yn[}\StringTok{\textquotesingle{}u\_c\_gpt\_yn\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\DecValTok{1} 
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_year\_gpt\_yn.loc[c\_gpt\_n}\OperatorTok{\&}\NormalTok{u\_c\_gpt\_n, }\StringTok{\textquotesingle{}q\_cnt\textquotesingle{}}\NormalTok{].values}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.plot(df\_year\_gpt\_yn.loc[c\_gpt\_n}\OperatorTok{\&}\NormalTok{u\_c\_gpt\_n, }\StringTok{\textquotesingle{}q\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Mean\textquotesingle{}}
\NormalTok{) }

\NormalTok{ax.plot(df\_year\_gpt\_yn.loc[c\_gpt\_n}\OperatorTok{\&}\NormalTok{u\_c\_gpt\_y, }\StringTok{\textquotesingle{}q\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
\NormalTok{) }

\NormalTok{ax.plot(df\_year\_gpt\_yn.loc[c\_gpt\_y}\OperatorTok{\&}\NormalTok{u\_c\_gpt\_n, }\StringTok{\textquotesingle{}q\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}pink\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
\NormalTok{) }

\NormalTok{ax.plot(df\_year\_gpt\_yn.loc[c\_gpt\_y}\OperatorTok{\&}\NormalTok{u\_c\_gpt\_y, }\StringTok{\textquotesingle{}q\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}lightblue\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Median\textquotesingle{}}
\NormalTok{) }



\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_usr\_post\_cre\_avg\_med.sort\_values(by  }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}post\_creationyear\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& usr\_creationyear & post\_creationyear & avg\_post\_cnt &
med\_post\_cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
32 & 2008 & 2013 & 7.4596319245352816 & 0E-20 \\
97 & 2008 & 2014 & 5.4136687320817534 & 0E-20 \\
89 & 2008 & 2015 & 4.1688708036622584 & 0E-20 \\
115 & 2008 & 2016 & 3.4425691297512254 & 0E-20 \\
81 & 2008 & 2017 & 2.9247202441505595 & 0E-20 \\
... & ... & ... & ... & ... \\
23 & 2021 & 2022 & 0.13814605068349098648 & 0E-20 \\
7 & 2021 & 2023 & 0.05982005661358230184 & 0E-20 \\
38 & 2022 & 2022 & 0.21210766974602804320 & 0E-20 \\
101 & 2022 & 2023 & 0.07478569191271196547 & 0E-20 \\
29 & 2023 & 2023 & 0.17510730225049852815 & 0E-20 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_usr\_post\_cre\_avg\_med[df\_usr\_post\_cre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2010\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& usr\_creationyear & post\_creationyear & avg\_post\_cnt &
med\_post\_cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2010 & 2019 & 0.64851599549875411944 & 0E-20 \\
8 & 2010 & 2018 & 0.78619584438549955791 & 0E-20 \\
22 & 2010 & 2021 & 0.48038240495137046861 & 0E-20 \\
28 & 2010 & 2017 & 1.0103086568603810 & 0E-20 \\
31 & 2010 & 2022 & 0.40641829434932883209 & 0E-20 \\
34 & 2010 & 2016 & 1.3093350614902339 & 0E-20 \\
48 & 2010 & 2014 & 2.1747196768748493 & 0E-20 \\
59 & 2010 & 2020 & 0.60451832650108512177 & 0E-20 \\
64 & 2010 & 2013 & 2.9901133349409211 & 0E-20 \\
66 & 2010 & 2015 & 1.6821999839241219 & 0E-20 \\
70 & 2010 & 2023 & 0.27195864480347238968 & 0E-20 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_diff\_usrcre\_avg\_med }\OperatorTok{=}\NormalTok{ df\_diff\_usrcre\_avg\_med.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_diff\_usrcre\_avg\_med.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& yeardiff & usr\_creationyear & avg\_cnt & med\_cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
128 & 0.0 & 2008 & 2.2150094996833439 & 1.00000000000000000000 \\
86 & 1.0 & 2008 & 33.5873763038245520 & 10.0000000000000000 \\
123 & 2.0 & 2008 & 30.7345577211394303 & 7.0000000000000000 \\
34 & 3.0 & 2008 & 28.1061071873701703 & 6.0000000000000000 \\
15 & 4.0 & 2008 & 22.7998296422487223 & 5.0000000000000000 \\
\end{longtable}

\subsubsection{Comparing Average Number of Posts per Cohort after year
from
signup}\label{comparing-average-number-of-posts-per-cohort-after-year-from-signup}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(}\DecValTok{2008}\NormalTok{, }\DecValTok{2008}\OperatorTok{+}\DecValTok{7}\NormalTok{)]}
\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}indigo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{7}\NormalTok{):    }
\NormalTok{        ax.plot(df\_diff\_usrcre\_avg\_med.loc[df\_diff\_usrcre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i], [}\StringTok{\textquotesingle{}avg\_cnt\textquotesingle{}}\NormalTok{]].values, }\CommentTok{\# specify data}
\NormalTok{                color }\OperatorTok{=}\NormalTok{ color\_list[i],}
\NormalTok{                label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Average Number of Posts per Cohort after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\CommentTok{\# 08년 집단이 왜이렇게 강력한가 }
\CommentTok{\# 2008년부터 2014년까지의 코호트는 모두 비슷하게 1 2년차에 가장 활동을 활발하게 하고 갈수록 떨어진다}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-173-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(}\DecValTok{2014}\NormalTok{, }\DecValTok{2014}\OperatorTok{+}\DecValTok{7}\NormalTok{)]}
\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}indigo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{7}\NormalTok{):    }
\NormalTok{        ax.plot(df\_diff\_usrcre\_avg\_med.loc[df\_diff\_usrcre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i], [}\StringTok{\textquotesingle{}avg\_cnt\textquotesingle{}}\NormalTok{]].values, }\CommentTok{\# specify data}
\NormalTok{                color }\OperatorTok{=}\NormalTok{ color\_list[i],}
\NormalTok{                label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-174-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_diff\_usrcre\_avg\_med}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& yeardiff & usr\_creationyear & avg\_cnt & med\_cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
128 & 0.0 & 2008 & 2.2150094996833439 & 1.00000000000000000000 \\
86 & 1.0 & 2008 & 33.5873763038245520 & 10.0000000000000000 \\
123 & 2.0 & 2008 & 30.7345577211394303 & 7.0000000000000000 \\
34 & 3.0 & 2008 & 28.1061071873701703 & 6.0000000000000000 \\
15 & 4.0 & 2008 & 22.7998296422487223 & 5.0000000000000000 \\
... & ... & ... & ... & ... \\
80 & 0.0 & 2022 & 1.1123804244741708 & 1.00000000000000000000 \\
42 & 1.0 & 2022 & 3.0528015419470463 & 1.00000000000000000000 \\
13 & 2.0 & 2022 & 2.2442212518195051 & 1.00000000000000000000 \\
79 & 0.0 & 2023 & 1.0701322089462106 & 1.00000000000000000000 \\
140 & 1.0 & 2023 & 2.1896088538118436 & 1.00000000000000000000 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(}\DecValTok{2017}\NormalTok{, }\DecValTok{2017}\OperatorTok{+}\DecValTok{7}\NormalTok{)]}
\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}indigo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{7}\NormalTok{):    }
\NormalTok{        ax.plot(df\_diff\_usrcre\_avg\_med.loc[df\_diff\_usrcre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i], [}\StringTok{\textquotesingle{}avg\_cnt\textquotesingle{}}\NormalTok{]].values, }\CommentTok{\# specify data}
\NormalTok{                color }\OperatorTok{=}\NormalTok{ color\_list[i],}
\NormalTok{                label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-176-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{std\_year }\OperatorTok{=} \DecValTok{2013}
\NormalTok{num\_of\_year }\OperatorTok{=} \DecValTok{7}
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(std\_year, std\_year}\OperatorTok{+}\NormalTok{num\_of\_year)]}
\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}indigo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)):   }
\NormalTok{        ax.plot (year\_list[i:]}
\NormalTok{        , df\_usr\_post\_cre\_avg\_med[df\_usr\_post\_cre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i]].head(}\BuiltInTok{len}\NormalTok{(year\_list[i:])).avg\_post\_cnt.values}
\NormalTok{        ,  color }\OperatorTok{=}\NormalTok{ color\_list[i]}
\NormalTok{        ,  label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.set\_xticks(year\_list)}
\CommentTok{\# axs[0].set\_xticks(major\_xticks)}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-177-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{std\_year }\OperatorTok{=} \DecValTok{2016}
\NormalTok{num\_of\_year }\OperatorTok{=} \DecValTok{7}
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(std\_year, std\_year}\OperatorTok{+}\NormalTok{num\_of\_year)]}
\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}indigo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)):   }
\NormalTok{        ax.plot (year\_list[i:]}
\NormalTok{        , df\_usr\_post\_cre\_avg\_med[df\_usr\_post\_cre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i]].head(}\BuiltInTok{len}\NormalTok{(year\_list[i:])).avg\_post\_cnt.values}
\NormalTok{        ,  color }\OperatorTok{=}\NormalTok{ color\_list[i]}
\NormalTok{        ,  label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.set\_xticks(year\_list)}
\CommentTok{\# axs[0].set\_xticks(major\_xticks)}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-178-output-1.png}

\subsubsection{Average number of posts by
cohort}\label{average-number-of-posts-by-cohort}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_usr\_post\_cre\_avg\_med }\OperatorTok{=}\NormalTok{ df\_usr\_post\_cre\_avg\_med.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}post\_creationyear\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_usr\_post\_cre\_avg\_med}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& usr\_creationyear & post\_creationyear & avg\_post\_cnt &
med\_post\_cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
32 & 2008 & 2013 & 7.4596319245352816 & 0E-20 \\
97 & 2008 & 2014 & 5.4136687320817534 & 0E-20 \\
89 & 2008 & 2015 & 4.1688708036622584 & 0E-20 \\
115 & 2008 & 2016 & 3.4425691297512254 & 0E-20 \\
81 & 2008 & 2017 & 2.9247202441505595 & 0E-20 \\
... & ... & ... & ... & ... \\
23 & 2021 & 2022 & 0.13814605068349098648 & 0E-20 \\
7 & 2021 & 2023 & 0.05982005661358230184 & 0E-20 \\
38 & 2022 & 2022 & 0.21210766974602804320 & 0E-20 \\
101 & 2022 & 2023 & 0.07478569191271196547 & 0E-20 \\
29 & 2023 & 2023 & 0.17510730225049852815 & 0E-20 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(}\DecValTok{2008}\NormalTok{, }\DecValTok{2024}\NormalTok{)]}

\ControlFlowTok{for}\NormalTok{ idx }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)) :}
\NormalTok{  ax.plot(df\_usr\_post\_cre\_avg\_med.loc[df\_usr\_post\_cre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ year\_list[idx], }\StringTok{\textquotesingle{}post\_creationyear\textquotesingle{}}\NormalTok{]}
\NormalTok{      ,  df\_usr\_post\_cre\_avg\_med.loc[df\_usr\_post\_cre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ year\_list[idx], }\StringTok{\textquotesingle{}avg\_post\_cnt\textquotesingle{}}\NormalTok{]}
\NormalTok{      ,  color}\OperatorTok{=}\NormalTok{color\_list[}\DecValTok{20}\OperatorTok{+}\NormalTok{(idx}\OperatorTok{*}\DecValTok{6}\NormalTok{)]}
\NormalTok{      , label }\OperatorTok{=}\NormalTok{ year\_list[idx]}
\NormalTok{        ) }\CommentTok{\# hist type}


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Average number of posts by cohort\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}number of posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(title }\OperatorTok{=} \StringTok{"cohort year of users"}\NormalTok{,}
\NormalTok{          title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{), }
\NormalTok{          )}

\NormalTok{ax.axvline(}\StringTok{\textquotesingle{}2022\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}


\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-181-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# df\_usr\_post\_cre\_cnt\_pivot.sort\_values(by = [\textquotesingle{}usr\_creationyear\textquotesingle{}, \textquotesingle{}postcreationyear\textquotesingle{}])}
\NormalTok{df\_usr\_a\_cre\_avg\_med }\OperatorTok{=}\NormalTok{ df\_usr\_a\_cre\_avg\_med.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}a\_creationyear\textquotesingle{}}\NormalTok{])}
\NormalTok{df\_usr\_q\_cre\_avg\_med }\OperatorTok{=}\NormalTok{ df\_usr\_q\_cre\_avg\_med.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}q\_creationyear\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(}\DecValTok{2008}\NormalTok{, }\DecValTok{2024}\NormalTok{)]}

\ControlFlowTok{for}\NormalTok{ idx }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)) :}
\NormalTok{  ax.plot(df\_usr\_a\_cre\_avg\_med.loc[df\_usr\_a\_cre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ year\_list[idx], }\StringTok{\textquotesingle{}a\_creationyear\textquotesingle{}}\NormalTok{]}
\NormalTok{       ,  df\_usr\_a\_cre\_avg\_med.loc[df\_usr\_a\_cre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ year\_list[idx], }\StringTok{\textquotesingle{}avg\_post\_cnt\textquotesingle{}}\NormalTok{]}
\NormalTok{       ,  color}\OperatorTok{=}\NormalTok{color\_list[}\DecValTok{20}\OperatorTok{+}\NormalTok{(idx}\OperatorTok{*}\DecValTok{6}\NormalTok{)]}
\NormalTok{      , label }\OperatorTok{=}\NormalTok{ year\_list[idx]}
\NormalTok{        ) }\CommentTok{\# hist type}


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Average number of Answers by cohort\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}number of posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(title }\OperatorTok{=} \StringTok{"cohort year of users"}\NormalTok{,}
\NormalTok{          title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{), }
\NormalTok{          )}

\NormalTok{ax.axvline(}\StringTok{\textquotesingle{}2022\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}


\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-183-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(}\DecValTok{2008}\NormalTok{, }\DecValTok{2024}\NormalTok{)]}

\ControlFlowTok{for}\NormalTok{ idx }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)) :}
\NormalTok{  ax.plot(df\_usr\_q\_cre\_avg\_med.loc[df\_usr\_q\_cre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ year\_list[idx], }\StringTok{\textquotesingle{}q\_creationyear\textquotesingle{}}\NormalTok{]}
\NormalTok{       ,  df\_usr\_q\_cre\_avg\_med.loc[df\_usr\_q\_cre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ year\_list[idx], }\StringTok{\textquotesingle{}avg\_post\_cnt\textquotesingle{}}\NormalTok{]}
\NormalTok{       ,  color}\OperatorTok{=}\NormalTok{color\_list[}\DecValTok{20}\OperatorTok{+}\NormalTok{(idx}\OperatorTok{*}\DecValTok{6}\NormalTok{)]}
\NormalTok{      , label }\OperatorTok{=}\NormalTok{ year\_list[idx]}
\NormalTok{        ) }\CommentTok{\# hist type}


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Average number of Questions by cohort\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}number of posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(title }\OperatorTok{=} \StringTok{"cohort year of users"}\NormalTok{,}
\NormalTok{          title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{), }
\NormalTok{          )}

\NormalTok{ax.axvline(}\StringTok{\textquotesingle{}2022\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}


\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-184-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}post\_n\_usr\_cnt\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{] }\OperatorTok{{-}}\NormalTok{ df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}post\_y\_usr\_cnt\textquotesingle{}}\NormalTok{] }
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_no\_post\_per\_year }\OperatorTok{=}\NormalTok{ df\_no\_post\_per\_year.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}postcreationyear\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_no\_post\_per\_year}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
& usr\_creationyear & postcreationyear & usr\_cnt & post\_y\_usr\_cnt &
post\_n\_usr\_cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
11 & 2008 & 2013 & 21626 & 12584 & 9042 \\
14 & 2008 & 2014 & 21626 & 13920 & 7706 \\
12 & 2008 & 2015 & 21626 & 14795 & 6831 \\
70 & 2008 & 2016 & 21626 & 15631 & 5995 \\
22 & 2008 & 2017 & 21626 & 16301 & 5325 \\
... & ... & ... & ... & ... & ... \\
2 & 2021 & 2022 & 2783431 & 2671138 & 112293 \\
86 & 2021 & 2023 & 2783431 & 2719448 & 63983 \\
88 & 2022 & 2022 & 3052148 & 2738095 & 314053 \\
55 & 2022 & 2023 & 3052148 & 2963613 & 88535 \\
4 & 2023 & 2023 & 2106200 & 1875760 & 230440 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{std\_year }\OperatorTok{=} \DecValTok{2017}
\NormalTok{num\_of\_year }\OperatorTok{=} \DecValTok{7}
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(std\_year, std\_year}\OperatorTok{+}\NormalTok{num\_of\_year)]}
\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}indigo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)):   }
\NormalTok{        ax.plot (year\_list[i:]}
\NormalTok{        , df\_no\_post\_per\_year[df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i]].head(}\BuiltInTok{len}\NormalTok{(year\_list[i:])).post\_n\_usr\_cnt.values}
\NormalTok{        ,  color }\OperatorTok{=}\NormalTok{ color\_list[i]}
\NormalTok{        ,  label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.set\_xticks(year\_list)}
\CommentTok{\# axs[0].set\_xticks(major\_xticks)}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-188-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}post\_n\_rate\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}post\_n\_usr\_cnt\textquotesingle{}}\NormalTok{]}\OperatorTok{/}\NormalTok{df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{]}\OperatorTok{*}\DecValTok{100}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{std\_year }\OperatorTok{=} \DecValTok{2017}
\NormalTok{num\_of\_year }\OperatorTok{=} \DecValTok{7}
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(std\_year, std\_year}\OperatorTok{+}\NormalTok{num\_of\_year)]}
\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}indigo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)):   }
\NormalTok{        ax.plot (year\_list[i:]}
\NormalTok{        , df\_no\_post\_per\_year[df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i]].head(}\BuiltInTok{len}\NormalTok{(year\_list[i:])).post\_n\_rate.values}
\NormalTok{        ,  color }\OperatorTok{=}\NormalTok{ color\_list[i]}
\NormalTok{        ,  label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.set\_xticks(year\_list)}
\CommentTok{\# axs[0].set\_xticks(major\_xticks)}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-190-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{std\_year }\OperatorTok{=} \DecValTok{2020}
\NormalTok{num\_of\_year }\OperatorTok{=} \DecValTok{4}
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(std\_year, std\_year}\OperatorTok{+}\NormalTok{num\_of\_year)]}
\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}indigo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)):   }
\NormalTok{        ax.plot (year\_list[i:]}
\NormalTok{        , df\_no\_post\_per\_year[df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i]].head(}\BuiltInTok{len}\NormalTok{(year\_list[i:])).post\_n\_rate.values}
\NormalTok{        ,  color }\OperatorTok{=}\NormalTok{ color\_list[i]}
\NormalTok{        ,  label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.set\_xticks(year\_list)}
\CommentTok{\# axs[0].set\_xticks(major\_xticks)}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-191-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_usr\_post\_cre\_avg\_med }\OperatorTok{=}\NormalTok{ df\_usr\_post\_cre\_avg\_med.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}post\_creationyear\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_usr\_post\_cre\_avg\_med[df\_usr\_post\_cre\_avg\_med[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i]].post\_creationyear.values}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array(['2020', '2021', '2013', '2023', '2019', '2018', '2017', '2022',
       '2015', '2014', '2016'], dtype=object)
\end{verbatim}

\subsubsection{Number of answer over question by
cohort}\label{number-of-answer-over-question-by-cohort}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_usr\_post\_cre\_cnt}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& usr\_creationyear & posttypeid & postcreationyear & post\_cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2008 & 1 & 2013 & 22312 \\
1 & 2008 & 1 & 2014 & 17466 \\
2 & 2008 & 1 & 2015 & 13788 \\
3 & 2008 & 1 & 2016 & 11577 \\
4 & 2008 & 1 & 2017 & 9632 \\
... & ... & ... & ... & ... \\
237 & 2022 & 1 & 2023 & 136882 \\
238 & 2022 & 2 & 2022 & 228520 \\
239 & 2022 & 2 & 2023 & 91375 \\
240 & 2023 & 1 & 2023 & 258924 \\
241 & 2023 & 2 & 2023 & 109887 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_usr\_post\_cre\_cnt\_pivot }\OperatorTok{=}\NormalTok{ df\_usr\_post\_cre\_cnt.pivot(index}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}postcreationyear\textquotesingle{}}\NormalTok{], columns }\OperatorTok{=} \StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{, values }\OperatorTok{=} \StringTok{\textquotesingle{}post\_cnt\textquotesingle{}}\NormalTok{).reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# df\_usr\_post\_cre\_cnt\_pivot}
\NormalTok{df\_usr\_post\_cre\_cnt\_pivot[}\StringTok{\textquotesingle{}a\_over\_q\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_usr\_post\_cre\_cnt\_pivot[}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{]}\OperatorTok{/}\NormalTok{df\_usr\_post\_cre\_cnt\_pivot[}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_usr\_post\_cre\_cnt\_pivot.sort\_values(by }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}postcreationyear\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
posttypeid & usr\_creationyear & postcreationyear & 1 & 2 &
a\_over\_q \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2008 & 2013 & 22312 & 139010 & 6.230280 \\
1 & 2008 & 2014 & 17466 & 99610 & 5.703080 \\
2 & 2008 & 2015 & 13788 & 76368 & 5.538729 \\
3 & 2008 & 2016 & 11577 & 62872 & 5.430768 \\
4 & 2008 & 2017 & 9632 & 53618 & 5.566653 \\
... & ... & ... & ... & ... & ... \\
116 & 2021 & 2022 & 201956 & 182564 & 0.903979 \\
117 & 2021 & 2023 & 89522 & 76983 & 0.859934 \\
118 & 2022 & 2022 & 418864 & 228520 & 0.545571 \\
119 & 2022 & 2023 & 136882 & 91375 & 0.667546 \\
120 & 2023 & 2023 & 258924 & 109887 & 0.424399 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_usr\_post\_cre\_cnt\_pivot.loc[df\_usr\_post\_cre\_cnt\_pivot[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \StringTok{\textquotesingle{}2008\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}a\_over\_q\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0     6.230280
1     5.703080
2     5.538729
3     5.430768
4     5.566653
5     5.511065
6     5.463558
7     5.985893
8     7.101614
9     7.709148
10    5.608247
Name: a_over_q, dtype: float64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(}\DecValTok{2008}\NormalTok{, }\DecValTok{2024}\NormalTok{)]}

\ControlFlowTok{for}\NormalTok{ idx }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)) :}
\NormalTok{  ax.plot(df\_usr\_post\_cre\_cnt\_pivot.loc[df\_usr\_post\_cre\_cnt\_pivot[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ year\_list[idx], }\StringTok{\textquotesingle{}postcreationyear\textquotesingle{}}\NormalTok{]}
\NormalTok{      ,  df\_usr\_post\_cre\_cnt\_pivot.loc[df\_usr\_post\_cre\_cnt\_pivot[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ year\_list[idx], }\StringTok{\textquotesingle{}a\_over\_q\textquotesingle{}}\NormalTok{]}
\NormalTok{      ,  color}\OperatorTok{=}\NormalTok{color\_list[}\DecValTok{20}\OperatorTok{+}\NormalTok{(idx}\OperatorTok{*}\DecValTok{5}\NormalTok{)]}
\NormalTok{      , label }\OperatorTok{=}\NormalTok{ year\_list[idx]}
\NormalTok{        ) }\CommentTok{\# hist type}


\CommentTok{\# major\_xticks = [\textquotesingle{}2022\textquotesingle{}]}

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Number of answer over question by cohort\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}A/Q\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(title }\OperatorTok{=} \StringTok{"cohort year of users"}\NormalTok{,}
\NormalTok{          title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{), }
\NormalTok{          )}

\NormalTok{ax.axvline(}\StringTok{\textquotesingle{}2022\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}


\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-199-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}post\_n\_pct\_chg\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_no\_post\_per\_year.groupby(}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{).post\_n\_usr\_cnt.pct\_change()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_no\_post\_per\_year}\OperatorTok{=}\NormalTok{ df\_no\_post\_per\_year.fillna(}\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_no\_post\_per\_year}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& usr\_creationyear & postcreationyear & usr\_cnt & post\_y\_usr\_cnt &
post\_n\_usr\_cnt & post\_n\_rate & post\_n\_pct\_chg \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
11 & 2008 & 2013 & 21626 & 12584 & 9042 & 41.810783 & 0.000000 \\
14 & 2008 & 2014 & 21626 & 13920 & 7706 & 35.633034 & -0.147755 \\
12 & 2008 & 2015 & 21626 & 14795 & 6831 & 31.586979 & -0.113548 \\
70 & 2008 & 2016 & 21626 & 15631 & 5995 & 27.721261 & -0.122383 \\
22 & 2008 & 2017 & 21626 & 16301 & 5325 & 24.623139 & -0.111760 \\
... & ... & ... & ... & ... & ... & ... & ... \\
2 & 2021 & 2022 & 2783431 & 2671138 & 112293 & 4.034337 & -0.652376 \\
86 & 2021 & 2023 & 2783431 & 2719448 & 63983 & 2.298710 & -0.430214 \\
88 & 2022 & 2022 & 3052148 & 2738095 & 314053 & 10.289573 & 0.000000 \\
55 & 2022 & 2023 & 3052148 & 2963613 & 88535 & 2.900744 & -0.718089 \\
4 & 2023 & 2023 & 2106200 & 1875760 & 230440 & 10.941031 & 0.000000 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{std\_year }\OperatorTok{=} \DecValTok{2020}
\NormalTok{num\_of\_year }\OperatorTok{=} \DecValTok{4}
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(std\_year, std\_year}\OperatorTok{+}\NormalTok{num\_of\_year)]}
\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}indigo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)):   }
\NormalTok{        ax.plot (year\_list[i:]}
\NormalTok{        , df\_no\_post\_per\_year[df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i]].head(}\BuiltInTok{len}\NormalTok{(year\_list[i:])).post\_n\_pct\_chg.values}
\NormalTok{        ,  color }\OperatorTok{=}\NormalTok{ color\_list[i]}
\NormalTok{        ,  label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.set\_xticks(year\_list)}
\CommentTok{\# axs[0].set\_xticks(major\_xticks)}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-205-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{std\_year }\OperatorTok{=} \DecValTok{2017}
\NormalTok{num\_of\_year }\OperatorTok{=} \DecValTok{7}
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(std\_year, std\_year}\OperatorTok{+}\NormalTok{num\_of\_year)]}
\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}indigo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}purple\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)):   }
\NormalTok{        ax.plot (year\_list[i:]}
\NormalTok{        , df\_no\_post\_per\_year[df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i]].head(}\BuiltInTok{len}\NormalTok{(year\_list[i:])).post\_n\_pct\_chg.values}
\NormalTok{        ,  color }\OperatorTok{=}\NormalTok{ color\_list[i]}
\NormalTok{        ,  label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.set\_xticks(year\_list)}
\CommentTok{\# axs[0].set\_xticks(major\_xticks)}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-206-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_no\_post\_per\_year[df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2022\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& usr\_creationyear & postcreationyear & usr\_cnt & post\_y\_usr\_cnt &
post\_n\_usr\_cnt & post\_n\_rate & post\_n\_pct\_chg \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
88 & 2022 & 2022 & 3052148 & 2738095 & 314053 & 10.289573 & 0.000000 \\
55 & 2022 & 2023 & 3052148 & 2963613 & 88535 & 2.900744 & -0.718089 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{std\_year }\OperatorTok{=} \DecValTok{2013}
\NormalTok{num\_of\_year }\OperatorTok{=} \DecValTok{11}
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(std\_year, std\_year}\OperatorTok{+}\NormalTok{num\_of\_year)]}
\NormalTok{color\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}indigo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}purple\textquotesingle{}}
\NormalTok{            , }\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}yellow\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)):   }
\NormalTok{        ax.plot (year\_list[i:]}
\NormalTok{        , df\_no\_post\_per\_year[df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i]].head(}\BuiltInTok{len}\NormalTok{(year\_list[i:])).post\_n\_pct\_chg.values}
\NormalTok{        ,  color }\OperatorTok{=}\NormalTok{ color\_list[i]}
\NormalTok{        ,  label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.set\_xticks(year\_list)}
\CommentTok{\# axs[0].set\_xticks(major\_xticks)}

\CommentTok{\# ax.legend(loc = \textquotesingle{}upper right\textquotesingle{}, fontsize = 10) \# add legend}
\NormalTok{ax.legend(title }\OperatorTok{=} \StringTok{"Political Party"}\NormalTok{,}
\NormalTok{          title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{), }
\NormalTok{          )}


\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-208-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{std\_year }\OperatorTok{=} \DecValTok{2013}
\NormalTok{num\_of\_year }\OperatorTok{=} \DecValTok{11}
\NormalTok{year\_list }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(std\_year, std\_year}\OperatorTok{+}\NormalTok{num\_of\_year)]}

\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(year\_list)):   }
\NormalTok{        ax.plot (year\_list[i:]}
\NormalTok{        , df\_no\_post\_per\_year[df\_no\_post\_per\_year[}\StringTok{\textquotesingle{}usr\_creationyear\textquotesingle{}}\NormalTok{]}\OperatorTok{==}\NormalTok{year\_list[i]].head(}\BuiltInTok{len}\NormalTok{(year\_list[i:])).post\_n\_pct\_chg.values}
\NormalTok{        ,  color }\OperatorTok{=}\NormalTok{ color\_list[i]}
\NormalTok{        ,  label }\OperatorTok{=}\NormalTok{ year\_list[i]}
\NormalTok{        ) }


\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Comparing Median/Average Number of Answers after year from signup\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.set\_xticks(year\_list)}
\CommentTok{\# axs[0].set\_xticks(major\_xticks)}

\CommentTok{\# ax.legend(loc = \textquotesingle{}upper right\textquotesingle{}, fontsize = 10) \# add legend}
\NormalTok{ax.legend(title }\OperatorTok{=} \StringTok{"Political Party"}\NormalTok{,}
\NormalTok{          title\_fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{,}
\NormalTok{          bbox\_to\_anchor }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{), }
\NormalTok{          )}


\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\subsubsection{Number of Active Users per
Year}\label{number-of-active-users-per-year}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_active\_usr\_per\_year\_tot }\OperatorTok{=}\NormalTok{ df\_active\_usr\_per\_year.groupby([}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{]).}\BuiltInTok{sum}\NormalTok{()[}\StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{].reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_active\_usr\_per\_year\_tot }\OperatorTok{=}\NormalTok{ df\_active\_usr\_per\_year\_tot.set\_index([}\StringTok{\textquotesingle{}yeardiff\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.plot( df\_active\_usr\_per\_year\_tot.index, }
\NormalTok{        df\_active\_usr\_per\_year\_tot[}\StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}green\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Total\textquotesingle{}}
\NormalTok{) }


\NormalTok{ax.plot(df\_active\_usr\_per\_year\_tot.index}
\NormalTok{        , df\_active\_usr\_per\_year.loc[df\_active\_usr\_per\_year[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}orange\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Question\textquotesingle{}}
\NormalTok{) }

\NormalTok{ax.plot(df\_active\_usr\_per\_year\_tot.index}
\NormalTok{        , df\_active\_usr\_per\_year.loc[df\_active\_usr\_per\_year[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{].values, }\CommentTok{\# specify data}
\NormalTok{        color }\OperatorTok{=} \StringTok{\textquotesingle{}pink\textquotesingle{}}\NormalTok{,}
\NormalTok{        label }\OperatorTok{=} \StringTok{\textquotesingle{}Answer\textquotesingle{}}
\NormalTok{) }

\CommentTok{\# ax.plot(df\_year\_gpt\_yn.loc[c\_gpt\_y\&u\_c\_gpt\_y, \textquotesingle{}q\_cnt\textquotesingle{}].values, \# specify data}
\CommentTok{\#         color = \textquotesingle{}lightblue\textquotesingle{},}
\CommentTok{\#         label = \textquotesingle{}Median\textquotesingle{}}
\CommentTok{\# ) }




\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Number of Active Users per Year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Posts\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\NormalTok{ax.legend(loc }\OperatorTok{=} \StringTok{\textquotesingle{}upper right\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{10}\NormalTok{) }\CommentTok{\# add legend}

\NormalTok{ax.grid(}\VariableTok{True}\NormalTok{, linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}:\textquotesingle{}}\NormalTok{, linewidth }\OperatorTok{=} \FloatTok{0.5}\NormalTok{) }\CommentTok{\# grid}

\NormalTok{ax.set\_xticks([}\BuiltInTok{str}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.arange(}\DecValTok{2008}\NormalTok{, }\DecValTok{2024}\NormalTok{)])}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-212-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_active\_usr\_per\_day}


\NormalTok{df\_active\_usr\_per\_day\_tot }\OperatorTok{=}\NormalTok{ df\_active\_usr\_per\_day.groupby([}\StringTok{\textquotesingle{}creationdate\textquotesingle{}}\NormalTok{]).}\BuiltInTok{sum}\NormalTok{()[}\StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{].reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_active\_usr\_per\_day\_tot}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& creationdate & usr\_cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2008-07-31 & 5 \\
1 & 2008-08-01 & 74 \\
2 & 2008-08-02 & 59 \\
3 & 2008-08-03 & 78 \\
4 & 2008-08-04 & 152 \\
... & ... & ... \\
5599 & 2023-11-29 & 5724 \\
5600 & 2023-11-30 & 5670 \\
5601 & 2023-12-01 & 5017 \\
5602 & 2023-12-02 & 3135 \\
5603 & 2023-12-03 & 1056 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\CommentTok{\# ax.plot( df\_active\_usr\_per\_day\_tot.creationdate, }
\CommentTok{\#         df\_active\_usr\_per\_day\_tot[\textquotesingle{}usr\_cnt\textquotesingle{}].values, \# specify data}
\CommentTok{\#         color = \textquotesingle{}green\textquotesingle{},}
\CommentTok{\#         label = \textquotesingle{}Total\textquotesingle{}}
\CommentTok{\# ) }

\NormalTok{ax.bar(df\_active\_usr\_per\_day\_tot.creationdate}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_active\_usr\_per\_day\_tot[}\StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
    \CommentTok{\# ,  label = \textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Number of Active Users per Day\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}Number of Users\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\CommentTok{\# ax.legend(loc = \textquotesingle{}upper right\textquotesingle{}, fontsize = 10) \# add legend}


\NormalTok{ax.axvline(}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}

\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-215-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sharey }\OperatorTok{=} \VariableTok{True} \CommentTok{\#\# 또는 sharey=False}
\NormalTok{sharex }\OperatorTok{=} \VariableTok{True} \CommentTok{\#\# 또는 sharex=False}


\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}

\NormalTok{fig, axs }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{20}\NormalTok{, }\DecValTok{5}\NormalTok{), sharey}\OperatorTok{=}\NormalTok{sharey, sharex}\OperatorTok{=}\NormalTok{sharex)}


\NormalTok{axs[}\DecValTok{0}\NormalTok{].bar(df\_active\_usr\_per\_day\_tot.creationdate}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_active\_usr\_per\_day.loc[df\_active\_usr\_per\_day[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{axs[}\DecValTok{1}\NormalTok{].bar(df\_active\_usr\_per\_day\_tot.creationdate}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_active\_usr\_per\_day.loc[df\_active\_usr\_per\_day[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}

\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_xticks(major\_xticks)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_title(}\StringTok{\textquotesingle{}Number of Questioned Users per Day\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].set\_ylabel(}\StringTok{\textquotesingle{}Number of Users\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].axvline(}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{axs[}\DecValTok{0}\NormalTok{].tick\_params(axis}\OperatorTok{=}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{, rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}

\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_xticks(major\_xticks)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_title(}\StringTok{\textquotesingle{}Number of Answered Users per Day\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].set\_ylabel(}\StringTok{\textquotesingle{}Number of Users\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].axvline(}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{axs[}\DecValTok{1}\NormalTok{].tick\_params(axis}\OperatorTok{=}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{, rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}

\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-216-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_active\_usr\_per\_day\_pivot}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
posttypeid & creationdate & 1 & 2 & q\_over\_a \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2008-07-31 & 3 & 2 & 66.666667 \\
1 & 2008-08-01 & 33 & 41 & 124.242424 \\
2 & 2008-08-02 & 21 & 38 & 180.952381 \\
3 & 2008-08-03 & 28 & 50 & 178.571429 \\
4 & 2008-08-04 & 59 & 93 & 157.627119 \\
... & ... & ... & ... & ... \\
5599 & 2023-11-29 & 3443 & 2281 & 66.250363 \\
5600 & 2023-11-30 & 3384 & 2286 & 67.553191 \\
5601 & 2023-12-01 & 2945 & 2072 & 70.356537 \\
5602 & 2023-12-02 & 1875 & 1260 & 67.200000 \\
5603 & 2023-12-03 & 615 & 441 & 71.707317 \\
\end{longtable}

\subsubsection{Number of Unique answered users over Number of Unique
questioned users per
day}\label{number-of-unique-answered-users-over-number-of-unique-questioned-users-per-day}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_active\_usr\_per\_day.loc[df\_active\_usr\_per\_day[}\StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0           3
2          33
4          21
6          28
8          59
         ... 
11198    3443
11200    3384
11202    2945
11204    1875
11206     615
Name: usr_cnt, Length: 5604, dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_active\_usr\_per\_day\_pivot }\OperatorTok{=}\NormalTok{ df\_active\_usr\_per\_day.pivot(index}\OperatorTok{=}\StringTok{\textquotesingle{}creationdate\textquotesingle{}}\NormalTok{, columns }\OperatorTok{=} \StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{, values }\OperatorTok{=} \StringTok{\textquotesingle{}usr\_cnt\textquotesingle{}}\NormalTok{).reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_active\_usr\_per\_day\_pivot[}\StringTok{\textquotesingle{}q\_over\_a\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_active\_usr\_per\_day\_pivot[}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{]}\OperatorTok{/}\NormalTok{df\_active\_usr\_per\_day\_pivot[}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{]}\OperatorTok{*}\DecValTok{100}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.bar(df\_active\_usr\_per\_day\_pivot.creationdate}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_active\_usr\_per\_day\_pivot[}\StringTok{\textquotesingle{}q\_over\_a\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
    \CommentTok{\# ,  label = \textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Number of Unique answered users over Number of Unique Questioned users per day\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\CommentTok{\# ax.legend(loc = \textquotesingle{}upper right\textquotesingle{}, fontsize = 10) \# add legend}

\NormalTok{ax.axvline(}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}

\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-221-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_active\_usr\_per\_day\_pivot}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
posttypeid & creationdate & 1 & 2 & q\_over\_a \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2008-07-31 & 3 & 2 & 66.666667 \\
1 & 2008-08-01 & 33 & 41 & 124.242424 \\
2 & 2008-08-02 & 21 & 38 & 180.952381 \\
3 & 2008-08-03 & 28 & 50 & 178.571429 \\
4 & 2008-08-04 & 59 & 93 & 157.627119 \\
... & ... & ... & ... & ... \\
5599 & 2023-11-29 & 3443 & 2281 & 66.250363 \\
5600 & 2023-11-30 & 3384 & 2286 & 67.553191 \\
5601 & 2023-12-01 & 2945 & 2072 & 70.356537 \\
5602 & 2023-12-02 & 1875 & 1260 & 67.200000 \\
5603 & 2023-12-03 & 615 & 441 & 71.707317 \\
\end{longtable}

\subsection{5. votes}\label{votes}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_vote\_cnt\_per\_day}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& vote\_creationdate & cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2008-07-31 & 6 \\
1 & 2008-08-01 & 240 \\
2 & 2008-08-02 & 555 \\
3 & 2008-08-03 & 682 \\
4 & 2008-08-04 & 1606 \\
... & ... & ... \\
5599 & 2023-11-29 & 32822 \\
5600 & 2023-11-30 & 31621 \\
5601 & 2023-12-01 & 28709 \\
5602 & 2023-12-02 & 16841 \\
5603 & 2023-12-03 & 7499 \\
\end{longtable}

\subsubsection{Number of Votes per Day}\label{number-of-votes-per-day}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.bar(df\_vote\_cnt\_per\_day.vote\_creationdate}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_vote\_cnt\_per\_day[}\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
    \CommentTok{\# ,  label = \textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Number of Votes per Day\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\CommentTok{\# ax.legend(loc = \textquotesingle{}upper right\textquotesingle{}, fontsize = 10) \# add legend}

\NormalTok{ax.axvline(}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}

\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-224-output-1.png}

\subsubsection{Number of Votes within 1 month after question/answer
post}\label{number-of-votes-within-1-month-after-questionanswer-post}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_vote\_cnt\_within\_1month\_per\_day}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& post\_creationdate & cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2008-07-31 & 67 \\
1 & 2008-08-01 & 473 \\
2 & 2008-08-02 & 311 \\
3 & 2008-08-03 & 394 \\
4 & 2008-08-04 & 1120 \\
... & ... & ... \\
5599 & 2023-11-29 & 4515 \\
5600 & 2023-11-30 & 4334 \\
5601 & 2023-12-01 & 3501 \\
5602 & 2023-12-02 & 2692 \\
5603 & 2023-12-03 & 749 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.bar(df\_vote\_cnt\_within\_1month\_per\_day.post\_creationdate}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_vote\_cnt\_within\_1month\_per\_day[}\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
    \CommentTok{\# ,  label = \textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Number of Votes within 1 month after question/answer post\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\CommentTok{\# ax.legend(loc = \textquotesingle{}upper right\textquotesingle{}, fontsize = 10) \# add legend}

\NormalTok{ax.axvline(}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}

\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-226-output-1.png}

\subsubsection{Number of UP/DOWN Votes within 1 month after
question/answer
post}\label{number-of-updown-votes-within-1-month-after-questionanswer-post}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_vote\_cnt\_within\_1month\_per\_day\_qna}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& post\_creationdate & cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2008-07-31 & 66 \\
1 & 2008-08-01 & 462 \\
2 & 2008-08-02 & 299 \\
3 & 2008-08-03 & 383 \\
4 & 2008-08-04 & 1081 \\
... & ... & ... \\
5599 & 2023-11-29 & 3640 \\
5600 & 2023-11-30 & 3551 \\
5601 & 2023-12-01 & 2917 \\
5602 & 2023-12-02 & 2265 \\
5603 & 2023-12-03 & 615 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.bar(df\_vote\_cnt\_within\_1month\_per\_day\_qna.post\_creationdate}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_vote\_cnt\_within\_1month\_per\_day\_qna[}\StringTok{\textquotesingle{}cnt\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
    \CommentTok{\# ,  label = \textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Number of UP/DOWN Votes within 1 month after question/answer post\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\CommentTok{\# ax.legend(loc = \textquotesingle{}upper right\textquotesingle{}, fontsize = 10) \# add legend}

\NormalTok{ax.axvline(}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}

\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-229-output-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_vote\_cnt\_within\_1month\_per\_daytype\_qna}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& post\_creationdate & posttypeid & vote\_cnt \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2008-07-31 & 1 & 39 \\
1 & 2008-07-31 & 2 & 27 \\
2 & 2008-08-01 & 1 & 164 \\
3 & 2008-08-01 & 2 & 298 \\
4 & 2008-08-02 & 1 & 95 \\
... & ... & ... & ... \\
11203 & 2023-12-01 & 2 & 1111 \\
11204 & 2023-12-02 & 1 & 1530 \\
11205 & 2023-12-02 & 2 & 735 \\
11206 & 2023-12-03 & 1 & 434 \\
11207 & 2023-12-03 & 2 & 181 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_vote\_cnt\_within\_1month\_per\_daytype\_qna\_pivot }\OperatorTok{=}\NormalTok{ df\_vote\_cnt\_within\_1month\_per\_daytype\_qna.pivot(index}\OperatorTok{=}\StringTok{\textquotesingle{}post\_creationdate\textquotesingle{}}\NormalTok{, columns }\OperatorTok{=} \StringTok{\textquotesingle{}posttypeid\textquotesingle{}}\NormalTok{, values }\OperatorTok{=} \StringTok{\textquotesingle{}vote\_cnt\textquotesingle{}}\NormalTok{).reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# df\_usr\_post\_cre\_cnt\_pivot}
\NormalTok{df\_vote\_cnt\_within\_1month\_per\_daytype\_qna\_pivot[}\StringTok{\textquotesingle{}a\_over\_q\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df\_vote\_cnt\_within\_1month\_per\_daytype\_qna\_pivot[}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{]}\OperatorTok{/}\NormalTok{df\_vote\_cnt\_within\_1month\_per\_daytype\_qna\_pivot[}\StringTok{\textquotesingle{}1\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_vote\_cnt\_within\_1month\_per\_daytype\_qna\_pivot}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
posttypeid & post\_creationdate & 1 & 2 & a\_over\_q \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2008-07-31 & 39 & 27 & 0.692308 \\
1 & 2008-08-01 & 164 & 298 & 1.817073 \\
2 & 2008-08-02 & 95 & 204 & 2.147368 \\
3 & 2008-08-03 & 113 & 270 & 2.389381 \\
4 & 2008-08-04 & 405 & 676 & 1.669136 \\
... & ... & ... & ... & ... \\
5599 & 2023-11-29 & 2235 & 1405 & 0.628635 \\
5600 & 2023-11-30 & 2118 & 1433 & 0.676582 \\
5601 & 2023-12-01 & 1806 & 1111 & 0.615172 \\
5602 & 2023-12-02 & 1530 & 735 & 0.480392 \\
5603 & 2023-12-03 & 434 & 181 & 0.417051 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots()}


\NormalTok{ax.bar(df\_vote\_cnt\_within\_1month\_per\_daytype\_qna\_pivot.post\_creationdate}
\NormalTok{    ,  height }\OperatorTok{=}\NormalTok{ df\_vote\_cnt\_within\_1month\_per\_daytype\_qna\_pivot[}\StringTok{\textquotesingle{}a\_over\_q\textquotesingle{}}\NormalTok{]}
\NormalTok{    ,  color }\OperatorTok{=} \StringTok{\textquotesingle{}skyblue\textquotesingle{}}
    \CommentTok{\# ,  label = \textquotesingle{}Mean\textquotesingle{}}
    \CommentTok{\# ,  edgecolor = \textquotesingle{}black\textquotesingle{}}
\NormalTok{      ) }\CommentTok{\# hist type}


\NormalTok{major\_xticks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}2013{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2014{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2015{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2016{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2017{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2018{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2019{-}11{-}30\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2020{-}11{-}30\textquotesingle{}}
\NormalTok{                ,}\StringTok{\textquotesingle{}2021{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2023{-}11{-}30\textquotesingle{}}\NormalTok{]}
\NormalTok{ax.set\_xticks(major\_xticks)}

\NormalTok{ax.set\_title(}\StringTok{\textquotesingle{}Number of UP/DOWN Votes within 1 month after question/answer post\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \DecValTok{15}\NormalTok{) }\CommentTok{\# title}
\NormalTok{ax.set\_xlabel(}\StringTok{\textquotesingle{}Date\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# x{-}axis label}
\NormalTok{ax.set\_ylabel(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{, fontsize }\OperatorTok{=} \FloatTok{12.5}\NormalTok{) }\CommentTok{\# y{-}axis label}

\CommentTok{\# ax.legend(loc = \textquotesingle{}upper right\textquotesingle{}, fontsize = 10) \# add legend}

\NormalTok{ax.axvline(}\StringTok{\textquotesingle{}2022{-}11{-}30\textquotesingle{}}\NormalTok{, }\CommentTok{\# add vertical line}
\NormalTok{           color }\OperatorTok{=} \StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{,}
\NormalTok{           linestyle }\OperatorTok{=} \StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{,}
\NormalTok{           linewidth }\OperatorTok{=} \FloatTok{1.5}\NormalTok{)}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}

\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{45}\NormalTok{)}
\NormalTok{plt.show()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\includegraphics{1_visualization_files/figure-pdf/cell-235-output-1.png}




\end{document}
